zendeskTicketNumber: 3767
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/3767
title: New Slack message in support-tableau
CSE: Warren Gifford
Customer: Tableau 
Date: 28 October 2021
Version: 3.18.0​
Deployment: docker-compose
External Services: OTHER,GITLAB
Auth Providers: builtin,saml
Slack Links: (https://sourcegraph.slack.com/archives/C011899KB6U/p1633721426008800)\[https://sourcegraph.slack.com/archives/C011899KB6U/p1633721426008800\]
GitHub Issue Link:
Doc Update Link:
Summary: curl \
  -H 'Authorization: token c8e1ddb4105a4ba63890cb566408c5b12976992b' \
  -d '{"query":"query($query: String!) { search(query: $query) { results { results {... on FileMatch { file { path } } } } } }","variables":{"query": "repo:
  https://cse-aws-test.sgdev.org/.api/graphql
500 and 403 network responses
 Authorization: token 
 Accept: application/json
set the method to POST
then put the stuff below in the body
/>
query ($query: String!) {
  search(query: $query) {
    results {
      results {
        ... on FileMatch {
          file {
            path
          }
        }
      }
    }
  }
}
{
    "query": "repo:
}
> When I invoke it with the dot, I get a 500 with no explanation why. If I remove the dot before ".api", it returns a 403 with the  error saying my token is invalid.  I tried running the above query using curl on the command line and it gave an empty response.What am I missing?
