zendeskTicketNumber: 8183
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/8183
title: Roblox - batch changes issues
Application engineer: Warren Gifford
Customer: Roblox Corporation 
Date: May 12, 2022
Version: 3.37.0â€‹
Deployment: docker-compose
External Services: GITHUB
Auth Providers: github,github
Slack Links: https://sourcegraph.slack.com/archives/C01MX8ATDNY/p1652381869548609 https://sourcegraph.slack.com/archives/CMMTWQQ49/p1652492135799369
GitHub Issue Link: https://github.com/sourcegraph/customer/issues/953
Doc Update Link:
Summary: Roblox engineers opened a batch preview which resulted in heavy database load as well as freezing batch changes UI
Gather logs from the DB as well as transaction logs from the pgsql database via the pg_stat_activity table which tracks transactions with the database
A meeting was held with Malo to surface lissues with the workflow Roblox was using to open previews and discuss a way to prevent users from opening terribly large batch change specs
A PR was opened to improve efficiency of the batches UI to prevent further timeout and drag: https://github.com/sourcegraph/sourcegraph/pull/35501
