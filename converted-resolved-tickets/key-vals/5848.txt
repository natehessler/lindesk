zendeskTicketNumber: 5848
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/5848
title: JLL configuration questions: Setting up their own postgresQL database, external redis cache, consistent dirty database error
Application engineer: Riana Shahid
Customer: Jones Lang LaSalle, Inc (JLL) 
Date: Jan 27
Version: ​3.37
Deployment: kubernetes
External Services: azure redis cache, postgresQL
Auth Providers:
Slack Links: https://sourcegraph.slack.com/archives/C01HW836940/p1643305206128600 but most conversation happened via email
GitHub Issue Link: https://github.com/sourcegraph/customer/issues/675 , https://github.com/sourcegraph/customer/issues/699
Doc Update Link: https://docs.sourcegraph.com/admin/install/kubernetes/configure
Summary: -   Pull Request: https://github.com/sourcegraph/sourcegraph/pull/30660
Since this customer was setting up their trial, they first had more general questions about how to set up their redis endpoint, whether they can use a single external postgresQL database and whether they need to use overlays when configuring their instance. Later they kept running into a dirty database error every time sourcegraph is deployed. 
There was some confusion about what exactly needed to be changed and where to configure their redis endpoint (docs were updated to include kubernetes-specific examples) but ultimately the customer had to update the 
https://docs.sourcegraph.com/admin/how-to/dirty_database
https://docs.sourcegraph.com/admin/postgres
https://docs.sourcegraph.com/admin/external_services/postgres
https://docs.sourcegraph.com/admin/install/kubernetes/configure
