zendeskTicketNumber: 8049
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/8049
title: Woven-Planet, Toyota Sourcegraph migration
Application engineer: Stomzy Mwendwa
Customer: Sourcegraph 
Date: May 5
Version: â€‹3.38.0
Deployment: Kubernetes
External Services:
Auth Providers:
Slack Links: N/A
GitHub Issue Link: N/A
Doc Update Link: N/A
Summary: We are trying to migrate our current kubernetes deployment (without helm) to helm deployment type. We have already migrated postgres DB, codeintel DB and CodeInsights DB to external AWS postgres RDS. My question is that, can we destroy our current deployment and bring up the sourcegraph resources with helm by just pointing out to external DB for postgres DB, codeintel DB and CodeInsights DB? If available, can you please share any documentation related to migrating sourcegraph deployment from k8s deployment without helm to helm type deployment?
Hey Mike, Hey Gyan,
Happy to jump in here and help with this. I'd like to apologize for the fact that we don't have an official migration path from a Kubernetes non-helm to a fully non Helm deployment at the moment and that a warning doesn't exist yet to help folks hold back with this migration. We recently just made the change in our docs here and this is soon going to be merged.
Our team's focus this 2nd quarter is to provide full migration guidance to helm from your existing deployment and this will be available in the docs.
This may be coming to you too late, my apologies once again, but we don't recommend folks attempting to migrate to Helm without awaiting our guidance. This is because switching to a helm chart deployment requires deleting and replacing the existing deployment(hence extended downtime) and there is a strong possibility that if you happen not to preserve your persistent volumes this could result in data loss. We'd like to cover all bases and provide better guidance due to this.
However, with the fact that you've already migrated your databases externally. This poses less of a risk with re-cloning all your repositories. I would like to state that in as much as this is done, I would kindly request giving us some time to come up with a detailed guide to help avoid confusion.
Would it be possible for you to keep this on hold until we have come up with the guide?
https://github.com/sourcegraph/sourcegraph/pull/35018/files
