zendeskTicketNumber: 6808
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/6808
title: Twitter container resources (frontend, gitserver)
Application engineer: Warren Gifford
Customer: Twitter 
Date: Mar 10
Version: 3.37.0â€‹
Deployment: kubernetes
External Services:
Auth Providers:
Slack Links: https://sourcegraph.slack.com/archives/C0338UN8GKZ/p1646956845326279
GitHub Issue Link: https://github.com/sourcegraph/customer/issues/525 -- https://github.com/sourcegraph/customer/issues/767
Doc Update Link:
Summary: Customer reports slow search times among other problems
observed container provisioning for the gitserver and other services -- this lead to an investigation of logs.
TL;DR the sg_maintenance routine had begun to fail and the admin reported that their monorepo had stacked up an unusual amount of git pack files
The monorepo was removed and recloned to clean the git rev tree
There were other issues conflated here as well, but the admin elected to no longer pursue investigation --
Other instances of sg_maintenance were observed in other production being a result environments. This likely due to the inclusion of an experimental geometric git pack command in the sg_maintenance routine.
