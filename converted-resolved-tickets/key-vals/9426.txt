zendeskTicketNumber: 9426
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/9426
title: New Slack message in support-coupang-sourcegraph
Application engineer: Rakesh Joshi
Customer: Coupang 
Date: June 29, 2022
Version: â€‹3.39.1
Deployment: Helm
External Services: Github
Auth Providers: Github
Slack Links: https://sourcegraph.slack.com/archives/C02NFUV7V9A/p1656554739454579
GitHub Issue Link:
Doc Update Link:
Summary: Two repos were stuck in the "Not Cloned" state and not getting synched even after explicitly clicking refresh from the frontend.
1)  I first checked the repo mirroring page to confirm current state of repo's and then looked at the repo-updater logs for any evident errors or issues reported for the two repos not being cloned
2)  We couldn't find any recent logs relevant to the issue in repo-updater logs, nothing noticeable on Grafana dashboard as well.
3)  As a next step I looked at the git-server logs for the recent refresh we did on the repo's and could see "slow http requests" warning messages which could be due to a resource crunch on git-server
4)  I suggested customer to use our resource estimator and scale the resources accordingly. Once the git-server resources were scaled up as per the recommendation from the resource estimator, repo's started cloning fine and the issue was fixed.
Tuned the resources on git-server as per the resource estimator to remove the pressure on the repo cloning process.
https://docs.sourcegraph.com/admin/deploy/resource_estimator
lvl=warn msg="slow http request" method=POST url=/search code=200
