zendeskTicketNumber: 3958
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/3958
title: Batch Changes - GitHub Rate Limit
CSE: Gabe Torres
Customer: Reddit 
Date: 28 October 2021
Version: â€‹3.32
Deployment: Kubernetes
External Services: NA
Auth Providers: NA
Slack Links: https://sourcegraph.slack.com/archives/C02BJ8T258D/p1634773029360700
GitHub Issue Link: https://github.com/sourcegraph/customer/issues/533
Doc Update Link:
Summary: The customer had an issue with batch changes taking days to publish. We believe there's a bottleneck between the code host and batch changes. Reddit will increase the rate limit to their GitHub and see if this improves the batch change reconciliation.
During a call with the customer, we saw a bottleneck in batch change reconciliations. To check remaining calls to GitHub rest API before hitting the rate limit https://cse-k8s.sgdev.org/-/debug/grafana/d/repo-updater/repo-updater?orgId=1
The net result of the major issue here is that it appears that their GHE instance is rate-limiting Sourcegraph, which is behaving as expected and respecting the rate limits.
