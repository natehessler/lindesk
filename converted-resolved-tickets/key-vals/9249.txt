zendeskTicketNumber: 9249
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/9249
title: Symbols pod processes make node unstable
Application engineer: Michael Bali
Customer: Coupang 
Date: June 22, 2022
Version: â€‹3.39.1
Deployment: Helm
External Services: GITHUB
Auth Providers: github
Slack Links: https://sourcegraph.slack.com/archives/C02NFUV7V9A/p1655948597600739
GitHub Issue Link: N/A
Doc Update Link: N/A
Summary: The symbol pod crashes the node.
Try running 
Does the symbols sidebar load on one of their smaller repos? Are there any other relevant messages in the logs? Try running 
tmp directory was a 
There are 2 solutions I know of: - Set TMPDIR, see example: https://github.com/sourcegraph/deploy-sourcegraph-helm/pull/132/files?w=1 - Make sure the root file system is writable by the user running the symbols service. The only place I've seen the user changed is here: https://github.com/sourcegraph/deploy-sourcegraph-helm/blob/b6d554e3f594b9c43951f84520f174fae29114ab/charts/sourcegraph/values.yaml
Solution One resolves the issue for them.
https://github.com/sourcegraph/deploy-sourcegraph-helm/pull/132/files?w=1
    t=2022-06-23T20:00:01+0000 lvl=eror msg=codeintel.symbols.parser.HandleParseRequest error="parser.Parse: fatal ctags error for xxx/xxxx/xxx/xxxx/xxxx.jsonnet: cannot open temporary file: /tmp/tags.XXXXXX" count=1.000 elapsed=0.005 path=deploy/safety_compliance/go_cms_api/template/_image_tag.jsonnet fileSize=74
