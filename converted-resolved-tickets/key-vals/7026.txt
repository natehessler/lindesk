zendeskTicketNumber: 7026
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/7026
title: search inside of a function ( regex, structural search, haskell, lines of code, blanks)
Application engineer: Kelvin Lee
Customer: Mercury 
Date: Mar 18
Version: No info (Presumably Sourcegraph.com? 3.38.0?)
Deployment: No info (Presumably Sourceraph.com? k8s)
External Services: No info/not relevant
Auth Providers: No info/not relevant
Slack Links: [Slack](https://sourcegraph-community.slack.com/archives/C02BG0M0ZJ7/p1647634936822109)
GitHub Issue Link: None
Doc Update Link: None
Summary: Direct quote:
> is there a way to limit the search to inside of a single function (or specify a list of functions and look inside each of them) ?
Notes: This customer was using Haskell.
There.... might be, depending on the language. Though with Haskel, it is unlikely to work, due to it qualifying as one of the limitations, documented \[here\](https://docs.sourcegraph.com/code_search/reference/structural
> Matching blocks in indentation-sensitive languages. It's not currently possible to match blocks of code that are indentation-sensitive. This is a feature planned for future work.
(Noting that Haskell is pretty indentation/white-space dependent, as maybe suggested [here](https://en.wikibooks.org/wiki/Haskell/Indentation))
Couldn't get a workaround for this customer's use case in RegEx neither.
https://docs.sourcegraph.com/code_search/reference/structural
https://github.com/google/re2/wiki/Syntax
Potential useful haskell libarries to try on: https://github.com/kirel/detexify-hs-backend https://github.com/haskell-cryptography/cacophony https://github.com/haskell-hvr/missingh/tree/master/src https://github.com/hapytex/hutt/blob/master/src/Text/Parse/Trie.hs The piece of code I had tested on: https://sourcegraph.com/search?q=context:global+repo:%5Egithub%5C.com/haskell-hvr/missingh%24%40master+file:%5Esrc/Network/Utils%5C.hs+niceSocketsDo%5Csfunc%5Cs%3D%5Csdo%5Cn.\*&patternType=regexp 
