zendeskTicketNumber: 3200
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/3200
title: No critical alert fires cloning queue becomes too large
CSE: Jason Harris
Customer: Indeed 
Date: 28 October 2021
Version: 3.29.1â€‹
Deployment: kubernetes
External Services: GITLAB
Auth Providers: saml
Slack Links: https://sourcegraph.slack.com/archives/CSKMGUJ58/p1631206780018700
GitHub Issue Link: https://github.com/sourcegraph/sourcegraph/issues/25122
Doc Update Link: N/A
Summary: Customer was using slack alerts to tell them of any alerts in Grafana at the critical level but not at the warning level. This caused them to miss that their repos were not cloning, because the cloning queue does not have a critical level alert associated with it at all. As a result, their cloning queue grew unbounded and they didn't know what was going on until someone manually looked under the hood.
This is ultimately a feature request, no troubleshooting steps were taken other than to look in Grafana and see that there aren't any critical alerts configured for the clone queue size.
Suggest a critical level alert companion to the current warning alert configured to fire when the queue size does not decrease in size. Details in the issue linked above.
