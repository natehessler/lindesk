zendeskTicketNumber: 5748
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/5748
title: How to import a codehost into Sourcegraph using GraphQL
Application engineer: Michael Bali
Customer: Citrix 
Date: Jan 22,2022
Version: 3.35.1â€‹
Deployment: docker-compose
External Services: BITBUCKETSERVER
Auth Providers: saml
Slack Links: https://sourcegraph.slack.com/archives/CT9P97S6L/p1642934728014800
GitHub Issue Link: N/A
Doc Update Link: https://github.com/sourcegraph/sourcegraph/pull/30230
Summary: The customer wants to know if it's possible to import a code host using GraphQL API
This is possible using 
    mutation {
    addExternalService(
    input: {kind: GITHUB, displayName: "github-m", config: "{\"url\":\"https://github.com\",\"token\":\"xxxxxxxxx\",\"repos\":[\"
    }
    ) {
    id
    nextSyncAt
    }
    }
https://docs.sourcegraph.com/admin/how-to/mutate-user-api
