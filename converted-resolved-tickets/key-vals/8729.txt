zendeskTicketNumber: 8729
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/8729
title: Workiva Question
Application engineer: Ben Gordon
Customer: Workiva 
Date: June 3, 2022
Version: 3.35.1â€‹
Deployment: kubernetes
External Services: GITHUB
Auth Providers: builtin,github
Slack Links: https://sourcegraph.slack.com/archives/CTJUDV6JH/p1654282579554389
GitHub Issue Link: https://github.com/sourcegraph/customer/issues/1009
Gitserver OOM crashloopBackoff causing major Sourcegraph Outage
Summary: -   the issues presents at git gc errors in gitserver logs
-   this is a red herring, the actual issue is container OOM due to the repo being 15+GB, much larger than the Sourcegraph server is provisioned to handle
-   The customer opts to remove the monorepo instead of increasing resources, as they don't intend to index any monorepos
    2022-06-06T16:19:31.990541404Z t=2022-06-06T16:19:31+0000 lvl=eror msg="error running cleanup command" name="garbage collect" repo=/data/repos/github.com/workiva/wk-helm-catalog/.git error="failed to git-gc: /usr/bin/git git -c gc.auto=1 -c gc.autoDetach=false gc --auto failed with stderr: : exit status 128"
