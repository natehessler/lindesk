zendeskTicketNumber: 7606
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/7606
title: New Slack message in trial-salesforce
Application engineer: Stomzy Mwendwa
Customer: Salesforce.com 
Date: Apr 12
Version: 3.17.2​
Deployment: single docker
External Services:
Auth Providers: builtin
Slack Links:
GitHub Issue Link:
Doc Update Link:
Summary: Hey team, for our monitoring / metrics / alerting, is it possible to get some statistics from the web services inside the application, specifically request rate and error rate? The issue is we have our own monitoring platform and need to ship this data from our Sourcegraph instances to this platform, how do I achieve this?
Hey @Marc LeBlancHappy to come back with my findings on this.It should be possible to export all Prometheus metrics from the container using Prometheus federation, you'll just need to get that set up on your monitoring platform.Default Prometheus configurations can be found here, if that is helpful for you.Some additional context here, all our grafana dashboards are created dynamically, (more here https://github.com/sourcegraph/sourcegraph/tree/main/docker-images/grafana) and hence why we more often than not prefer to stick within the builtin monitoring that ships with Sourcegraph.Documentation on exactly how to externally expose Sourcegraph's metrics to another tool at this moment remains very thin :sad-cowboy: and seems to be out of scope of what we support. Truly apologize on this.However, I was able to dig up some information about spinning up monitoring using a generator. I am not quite sure if this is what you were looking to achieve within your platform. Please check this out here:  https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/monitoring/README.mdLastly, some high level info on "how to actually do it" would look like: You should be able to not only import the generated Prometheus alert records in order to scrape Prometheus alerts into your own monitoring system if it supports Prometheus querying.Of course, as mentioned earlier, we would recommend using Prometheus Federation to consume external metrics if your tool allows it.I hope this was of some help.
