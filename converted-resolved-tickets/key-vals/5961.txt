zendeskTicketNumber: 5961
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/5961
title: Download files from sourcegraph using a CURL
Application engineer: Giselle Northy
Customer: Nutanix, Inc. 
Date: Feb 1
Version: 3.34.2​
Deployment: kubernetes
External Services: GITHUB,OTHER
Auth Providers: builtin,saml
Slack Links: https://sourcegraph.slack.com/archives/CTJCMDCCS/p1643748211731949
GitHub Issue Link:
Doc Update Link:
Summary: Would like to fetch files from gerrit repo onto our test framework - Is there a way to download a file or folder using a sourcegraph link?
it sounds like he just wants to download the file itself? if so, he can simply use curl to download using the URL format from the link that you provided in the thread. Here's an example:
https://sourcegraph.com/github.com/apache/hadoop/-/raw/hadoop-yarn-project/hadoop-ya\[...\]pache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java
notice the /raw/ path in there. (I got that URL simply by copying the URL from the browser window after clicking on the raw download link - it's a standard URL format)
The only caveat is that they use Okta/SSO for authentication. So, he'll need to pass the appropriate headers. I haven't tested this, but you should be able to use the Okta API to get a session token. And, then pass that using -H .
If he needs to run a query first and then download files from the results, he of course can use the src-cli for that. In that case, he would use src-cli to find the matches and grab the file from the results, then pass that to curl
