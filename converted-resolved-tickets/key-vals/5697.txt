zendeskTicketNumber: 5697
zendeskLink: https://sourcegraph.zendesk.com/agent/tickets/5697
title: Workiva LSIF question regarding authorizations
Application engineer: Kelvin Lee
Customer: Workiva 
Date: Jan 20
Version: 3.35.1​
Deployment: kubernetes
External Services: GITHUB
Auth Providers: builtin,github
Slack Links: [Slack with customer](https://sourcegraph.slack.com/archives/CTJUDV6JH/p1642700132011400), [Internal Conversation](https://sourcegraph.slack.com/archives/CHXHX7XAS/p1642762194347100)
GitHub Issue Link: [GitHub Issue/RFH](https://github.com/sourcegraph/customer/issues/654)
Doc Update Link: None
Summary: How are LSIF uploads authorized?
Authorization is a bit fuzzy... Quoted a conversation from engineering here:
> Eng A:  .... And I dug into the code a bit. Is my understanding correct that
>
> If lsifEnforceAuth is false then everybody can upload an lsif index If lsifEnforceAuth is true then only users with -github-token set can upload an lsif index
>
> Eng B: ... Sudo token also works in place of a GitHub token. We allow everyone to upload because we have very little concept of permissions in our app todayEng A: And from a security standpoint I also don't see a problem with that? It's not like someone can construct malicious lsif indexes, right?Eng B: Yes, the current security design is:
>
> If you're on premise, you're either behind a firewall with trusted employees that can upload indexes from CI without auth, or you can require a sudo token to be installed in your CI and only allow superusers to upload For cloud, we wanted to have some basic grief prevention so people couldn't upload "questionable" content
