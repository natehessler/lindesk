-   CSE: Alex Jean-Baptiste
-   Customer: Reddit 
-   Date: 28 October 2021
-   Version: 3.33.0â€‹
-   Deployment: kubernetes
-   External Services: GITHUB
-   Auth Providers: builtin,guithub
-   Slack Links: https://sourcegraph.slack.com/archives/C02BJ8T258D/p1635450874063500
-   GitHub Issue Link: N/A
-   Doc Update Link: N/A
The customer reported a set of batch changes remained in the pending state after 24hours. One of the batch changes was stuck in a retrying state due to a database error.
dbworker ruled out of causing issues due to the fact that a "retrying" batch changes state indicates an error at the database layer Reconciler thought to be the source of root cause The customer upgraded to Sourcegraph v. 3.33 and the issue was resolved Reconciler package was not committed to between 3.32.0 and 3.33.0 Static analysis with grep and Sourcegraph was done but no bug was found to indicate a transaction was closed early or a bug in the error handling is present
An upgrade to Sourcegraph v. 3.33.0 resolved the issue. The root cause was still unknown.
Failed to run operations on changeset
Sql: transaction has already been committed or rolled back
