-   Application engineer: Stomzy Mwendwa
-   Customer: Criteo 
-   Date: Nov 17
-   Version: â€‹3.30.1
-   Deployment: Kubernetes
-   External Services:
-   Auth Providers: GitHub
-   Slack Links: https://sourcegraph.slack.com/archives/CV5KX7T70/p1637231583005400
-   GitHub Issue Link:
-   Doc Update Link:
Hello team, I have an issue using the api (https://codesearch.criteois.com/.api/graphql) I post the following query to retrieve all files in a repo:
{'query': 'query ListFiles(\$repoName: String!) {repository(name: \$repoName) { commit(rev: "HEAD") {tree(path: "", recursive: true) { entries { path isDirectory url } } } }}', 'variables': {'repoName': 'vault/configuration'}, 'operationName': 'ListFiles'}
Same query as in the example provided But it gives: '{"data":{"repository":null}}' Am I doing something wrong?But it works when I do: https://codesearch.criteois.com/search?q=repo:vault/configuration
Hey @f.gaignier Could you please try this?
query ListFiles(\$repoName: String!) { repository(name: \$repoName) { commit(rev: "HEAD") { tree(path: "", recursive: true) { entries { path isDirectory url } } } } }
https://sourcegraph.com/api/console?\_ga=2.139893691.943294706.1636981475-1756623820.1624359677
