-   Application engineer: Jason Harris
-   Customer: 
-   Date: June 15, 2022
-   Version: â€‹3.40
-   Deployment: Kubernetes
-   External Services:
-   Auth Providers:
-   Slack Links: n/a
-   GitHub Issue Link: https://github.com/sourcegraph/customer/issues/1053
-   Doc Update Link: https://github.com/sourcegraph/sourcegraph/issues/37331
Splunk deployed their Sourcegraph instance via helm, but the PV created used by the GItServer is undersized. They'd like to know the suggested method for resizing it.
You should be able to follow the directions in the Kubernetes documentation for volume expansion.
Specifically, you'll need to edit your override file to expand the volumes associated with gitserver: gitserver: storageSize: 200Gi
Apply the change, then wait until the PVC's have been successfully resized: kubectl get pvc repos-gitserver-0 -o yaml
Look for a FileSystemResizePending status (repeat for each pvc - if you're running multiple replicas of gitserver there will be a pvc for each one). Then, trigger restarts on gitserver: kubectl rollout restart statefulset/gitserver
The new size should be available on each replica after the restart. This step might not be necessary if you have online expansion enabled but it's harmless / safer to just restart.
