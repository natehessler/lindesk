-   Application engineer: Kelvin Lee
-   Customer: Reddit 
-   Date: Feb 9
-   Version: 3.36.2â€‹
-   Deployment: kubernetes
-   External Services: GITHUB
-   Auth Providers: builtin,github
-   Slack Links: [Slack](https://sourcegraph.slack.com/archives/C02BJ8T258D/p1644435032025749)
-   GitHub Issue Link: Not specific to this thread, but there are a couple that are shared below that mention some limitations of our code insight creation UI so far
-   Doc Update Link: None
Customer is unable to get negations working in the code insights (specifically, the "Create new insight" \> "Detect and track patterns" sub-feature of code insights).
Negation is actually specifically blocked for "Detect and track patterns" code insights, as it's currently a technical gap (but not an uncrossable one). A [GitHub issue](https://github.com/sourcegraph/sourcegraph/issues/30713) is addressing it. However, "Track changes" code insights do still accept negations.
If, for some other reason, there are a lot of insights that the customer wants to construct, one can also try to do it via the \[API\](https://docs.sourcegraph.com/api/graphql/managing-code-insights-with-api
> If you have very many individual patterns you'd like to track, you could also consider programmatically creating an insight with many series via our API.
Some issues that Joel had shared: https://github.com/sourcegraph/sourcegraph/issues/30713 https://github.com/sourcegraph/sourcegraph/issues/31028
Documentation on an API approach for creating an insight: https://docs.sourcegraph.com/api/graphql/managing-code-insights-with-api
Evidence that negation is specifically flagged for: https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/enterprise/internal/compute/query.go?L71
