

# WSL Network Latency Causing Archive Retrieval Error  <!-- Ticket Title  Hint: include keywords to make it searchable -->



- Zendesk Link: [#4811](https://sourcegraph.zendesk.com/agent/tickets/4811)

- Application engineer: Alex Jean-Baptiste

- Customer: Unity <!-- Redact if this contains personally identifying information -->

- Date: Dec 1


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: 3.33.2​

- Deployment: kubernetes

- External Services: GITHUB,GITLAB

- Auth Providers: builtin,saml





## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C01FXGSJW5R/p1638370318077500

- GitHub Issue Link: N/A

- Doc Update Link: https://github.com/sourcegraph/sourcegraph/pull/28555



## Summary

### Description of Customer Issue
During the workspace initialization step of the batch change, the customer was receiving fetching errors during the repository archive retrieval step. 



### Troubleshooting Steps
1. Attempt to curl the individual failed repos using WSL

2. Attempt to curl the individual failed repos using a native client on OSX

3. Discovered a 3x time difference in repository archive retrieval over the network



### Resolution

The customer attempted the batch change over the native client on OSX and was able to successfully complete it.



### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/batch_changes/references/troubleshooting#can-you-download-a-repository-archive



### Relevant Error / Logs

<!-- Please redact keys, tokens, and personal identifying information -->

fetching repo: fetching ZIP archive: stream error: stream ID 23; INTERNAL_ERROR
See full logs on ticket.


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 4811.md -->
