

# Git Garbage Collection Inefficiencies <!-- Ticket Title  Hint: include keywords to make it searchable -->



- Zendesk Link: [#4768](https://sourcegraph.zendesk.com/agent/tickets/4768)

- Application engineer: Alex Jean-Baptiste

- Customer: Nutanix, Inc. <!-- Redact if this contains personally identifying information -->

- Date: Nov 29


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: 3.34.2​

- Deployment: kubernetes

- External Services: GITHUB,OTHER

- Auth Providers: builtin,saml





## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C02BQBNJVL0/p1638191494023100

- GitHub Issue Link: https://github.com/sourcegraph/customer/issues/573#issuecomment-982742932

- Doc Update Link: N/A



## Summary

### Description of Customer Issue
The customer experienced slow search on their production instance and the following error: Git command [git show-refs --heads] failed (output:""): signal: killed 



### Troubleshooting Steps
The CE, Mike McLaughlin expressed that this issue occurred previously when gitserver was operating at 90% disk usage. The customer was able to increase the disk space for the service and the root issue was solved. The customer is not using the internal Sourcegraph git garbage collection and is instead running a custom script weekly to handle that concern. This issue evolved into an exploration of whether or not that script could be optimized to keep gitserver disk usage lower. It was explained to the customer that Sourcegraph is experimenting internally on how to make this possible and that the issue had now involved into a feature request.



### Resolution
The customer increased their disk space.



### Relevant Docs Pages Used/Created
None used.



### Relevant Error / Logs

<!-- Please redact keys, tokens, and personal identifying information -->




<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 4768.md -->
