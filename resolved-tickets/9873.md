
# Re: Using sourcegraph cli tool to test granting of search permission to users. <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#9873](https://sourcegraph.zendesk.com/agent/tickets/9873)
- Application engineer: Rakesh Joshi
- Customer: Singapore Airlines <!-- Redact if this contains personally identifying information -->
- Date: July 20, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: ​
- Deployment: Docker Compose
- External Services:
- Auth Providers: Site minder


## Links
<!-- Data for application engineer manual entry -->
- Slack Links:
https://sourcegraph.zendesk.com/agent/tickets/9873
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Customer Question

Using sourcegraph cli tool to test granting of search permission to users

### Application Engineer Answer

Provided query to be run via src to grant user permissions

Below query using src api -query

‘mutation {
setRepositoryPermissionsForUsers(
repository: "<repo ID>",
userPermissions: [
 { bindID: "user@example.com" }
]) {
alwaysNil
}}’

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/how-to/mutate-user-api

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 9873.md -->
