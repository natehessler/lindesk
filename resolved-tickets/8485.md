
# Where are all the repositories stored in sourcegraph after it's being synced from the code host <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#8485](https://sourcegraph.zendesk.com/agent/tickets/8485)
- Application engineer: Michael Bali
- Customer: Singapore Airlines <!-- Redact if this contains personally identifying information -->
- Date: May 25, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: ​
- Deployment: Docker-Compose
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links:
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Customer Question
where are all the repositories  stored in sourcegraph after it's being synced from the code host?

### Application Engineer Answer
By default, Sourcegraph requires a storage class for all persistent volumes claims and by default, this storage class is called `sourcegraph`.
The Amazon EBS is the volume you are using to store this persistent data, the repository (git) data is an example of data stored on the disk. However, All repositories are cloned and updated on the `gitserver` pod while the `repo-updater` periodically [syncs](https://sourcegraph.com/github.com/sourcegraph/sourcegraph@v3.36.3/-/blob/internal/repos/syncer.go?L67) all repository metadata from configured code hosts. 

To see this, you run the following command:

To get a list of pods

`kubectl get pods ` if it's in a namespace use  `kubectl get pods -n <namespace>`
Copy the name of the gitserver pod and exec into the pod with the following command:
`kubectl exec -it gitserver-0 -n <namespace>  -- sh`
cd into `data/repos` to see all repositories cloned by sourcegraph.

### Relevant Docs Pages Used/Created
- https://sourcegraph.com/github.com/sourcegraph/sourcegraph@v3.36.3/-/blob/internal/repos/syncer.go?L67
<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 8485.md -->
