
# GraphQl error when publishing batch change changesets <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#9431](https://sourcegraph.zendesk.com/agent/tickets/9431)
- Application engineer: Michael Bali
- Customer: Glovo <!-- Redact if this contains personally identifying information -->
- Date: June 29, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.34.1​
- Deployment: docker-compose
- External Services: GITHUB
- Auth Providers: github


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C01NDS6BVBQ/p1656580260334619
- GitHub Issue Link: N/A
- Doc Update Link: N/A

## Summary
### Customer Question
I’m applying one where I’ve selected 700 changesets and tried to publish them.
For most of them I’m seeing this error:
`error in GraphQL response: was submitted too quickly`, which I interpret as GitHub throttling SourceGraph’s requests to open PRs.
When this error happens, the changeset publication that failed moves into the “Retrying” state. Do you have any information on the retry strategy that is followed here? I know there are 60 retry attempts according to https://docs.sourcegraph.com/batch_changes/how-tos/handling_errored_changesetsthis> but, do you have some sort of exponential backoff? is there any jitter? do you retry after a fixed amount of time?

### Application Engineer Answer
Yes, your interpretation of the error you see is correct. You can configure batch changes rollout windows to help schedule changesets. Sharing a [doc](https://docs.sourcegraph.com/admin/config/batch_changes#batch-changes-site-admin-configuration-reference) on how we can do that. It's super easy to configure as an admin and we can set that up pretty fast.I would like to confirm, if the error fails to move into the “Retrying” state are they marked as failed? If yes, it wont be retried automatically.That’s either because the number of automatic retries has been exhausted, or because retrying won’t fix the error without user intervention.

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/config/batch_changes#batch-changes-site-admin-configuration-reference
<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 9431.md -->
