
# How to get contents of a file using Graphql API <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#6549](https://sourcegraph.zendesk.com/agent/tickets/6549)
- Application engineer: Michael Bali
- Customer: Wayfair <!-- Redact if this contains personally identifying information -->
- Date: Mar 1

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.36.1​
- Deployment: kubernetes
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C024QE1K0FP/p1646134463339359
- GitHub Issue Link: N/A
- Doc Update Link: N/A

## Summary
### Customer Question
Is it possible with the graphql api to include the contents of a file with the query results?

### Application Engineer Answer
I did a few test with something similar to your query.  Running the `repo:(shared|secure)/.* AND repo:contains.file(wayfair\.yaml)` gives a list of repos. However if you would like to get the file contents, your query would look more like this `repo:(shared|secure)/.* AND repo:contains.file(wayfair\.yaml) AND file:wayfair\.yaml`. You can use the example query below, you just need to modify the query variables.

### Relevant Docs Pages Used/Created
sourcegraph [link](https://sourcegraph.com/api/console?_ga=2.188609899.2134099489.1646134401-746694459.1644915851#%7B%22query%22%3A%22query%20(%24query%3A%20String!)%20%7B%5Cn%20%20search(query%3A%20%24query%2C%20version%3A%20V2)%20%7B%5Cn%20%20%20%20results%20%7B%5Cn%20%20%20%20%20%20results%20%7B%5Cn%20%20%20%20%20%20%20%20__typename%5Cn%20%20%20%20%20%20%20%20...%20on%20FileMatch%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20...FileMatchFields%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20...%20on%20CommitSearchResult%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20...CommitSearchResultFields%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20...%20on%20Repository%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20...RepositoryFields%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20limitHit%5Cn%20%20%20%20%20%20cloning%20%7B%5Cn%20%20%20%20%20%20%20%20name%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20missing%20%7B%5Cn%20%20%20%20%20%20%20%20name%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20timedout%20%7B%5Cn%20%20%20%20%20%20%20%20name%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20matchCount%5Cn%20%20%20%20%20%20elapsedMilliseconds%5Cn%20%20%20%20%20%20...SearchResultsAlertFields%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%5Cnfragment%20FileMatchFields%20on%20FileMatch%20%7B%5Cn%20%20repository%20%7B%5Cn%20%20%20%20name%5Cn%20%20%20%20url%5Cn%20%20%7D%5Cn%20%20file%20%7B%5Cn%20%20%20%20name%5Cn%20%20%20%20path%5Cn%20%20%20%20url%5Cn%20%20%20%20content%5Cn%20%20%20%20commit%20%7B%5Cn%20%20%20%20%20%20oid%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%20%20lineMatches%20%7B%5Cn%20%20%20%20preview%5Cn%20%20%20%20lineNumber%5Cn%20%20%20%20offsetAndLengths%5Cn%20%20%20%20limitHit%5Cn%20%20%7D%5Cn%7D%5Cn%5Cnfragment%20CommitSearchResultFields%20on%20CommitSearchResult%20%7B%5Cn%20%20messagePreview%20%7B%5Cn%20%20%20%20value%5Cn%20%20%20%20highlights%20%7B%5Cn%20%20%20%20%20%20line%5Cn%20%20%20%20%20%20character%5Cn%20%20%20%20%20%20length%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%20%20diffPreview%20%7B%5Cn%20%20%20%20value%5Cn%20%20%20%20highlights%20%7B%5Cn%20%20%20%20%20%20line%5Cn%20%20%20%20%20%20character%5Cn%20%20%20%20%20%20length%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%20%20label%20%7B%5Cn%20%20%20%20html%5Cn%20%20%7D%5Cn%20%20url%5Cn%20%20matches%20%7B%5Cn%20%20%20%20url%5Cn%20%20%20%20body%20%7B%5Cn%20%20%20%20%20%20html%5Cn%20%20%20%20%20%20text%5Cn%20%20%20%20%7D%5Cn%20%20%20%20highlights%20%7B%5Cn%20%20%20%20%20%20character%5Cn%20%20%20%20%20%20line%5Cn%20%20%20%20%20%20length%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%20%20commit%20%7B%5Cn%20%20%20%20repository%20%7B%5Cn%20%20%20%20%20%20name%5Cn%20%20%20%20%7D%5Cn%20%20%20%20oid%5Cn%20%20%20%20url%5Cn%20%20%20%20subject%5Cn%20%20%20%20author%20%7B%5Cn%20%20%20%20%20%20date%5Cn%20%20%20%20%20%20person%20%7B%5Cn%20%20%20%20%20%20%20%20displayName%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%5Cnfragment%20RepositoryFields%20on%20Repository%20%7B%5Cn%20%20name%5Cn%20%20url%5Cn%20%20externalURLs%20%7B%5Cn%20%20%20%20serviceType%5Cn%20%20%20%20url%5Cn%20%20%7D%5Cn%20%20label%20%7B%5Cn%20%20%20%20html%5Cn%20%20%7D%5Cn%7D%5Cn%5Cnfragment%20SearchResultsAlertFields%20on%20SearchResults%20%7B%5Cn%20%20alert%20%7B%5Cn%20%20%20%20title%5Cn%20%20%20%20description%5Cn%20%20%20%20proposedQueries%20%7B%5Cn%20%20%20%20%20%20description%5Cn%20%20%20%20%20%20query%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22%2C%22variables%22%3A%22%7B%5Cn%20%20%5C%22query%5C%22%3A%20%5C%22repo%3A(sourcegraph%7Cfacebook)%2F.*%20AND%20repo%3Acontains.file(README.md)%20AND%20file%3AREADME.md%5C%22%5Cn%7D%22%7D)
<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 6549.md -->
