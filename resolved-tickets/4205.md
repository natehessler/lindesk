

# Python LSIF Indexer <!-- Ticket Title  Hint: include keywords to make it searchable -->



- Zendesk Link: [#4205](https://sourcegraph.zendesk.com/agent/tickets/4205)

- CSE: Alex Jean-Baptiste

- Customer: Reddit <!-- Redact if this contains personally identifying information -->


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: ​3.32.0

- Deployment: Kubernetes

- External Services: GitHub

- Auth Providers: Built-in, GitHub





## Links
<!-- Data for CSE manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C02BJ8T258D/p1635358124045100

- GitHub Issue Link: N/A

- Doc Update Link: N/A



## Summary

### Description of Customer Issue

The customer was using the unstable Python LSIF Indexer and received an error.



### Troubleshooting Steps

The Python LSIF Indexer is not officially supported due to its instability.



### Resolution

N/A



### Relevant Error / Logs

<!-- Please redact keys, tokens, and personal identifying information -->

root@eefe6eb51beb:/src/lsif-py-master# ./lsif-py lsif_indexer 
Indexing file lsif_indexer/index.py
Traceback (most recent call last):
File "./lsif-py", line 6, in &lt;module&gt;
main()
File "/src/lsif-py-master/lsif_indexer/script.py", line 13, in main
index(args.workspace, f, args.verbose, args.exclude_content)
File "/src/lsif-py-master/lsif_indexer/index.py", line 285, in index
FileIndexer(
File "/src/lsif-py-master/lsif_indexer/index.py", line 61, in index
self._index(source)
File "/src/lsif-py-master/lsif_indexer/index.py", line 80, in _index
self._export_definition(name)
File "/src/lsif-py-master/lsif_indexer/index.py", line 116, in _export_definition
docstring = name.docstring
File "/src/lsif-py-master/lsif_indexer/analysis.py", line 41, in docstring
return self.definition.docstring(raw=True, fast=False)
File "/usr/local/lib/python3.8/dist-packages/jedi/api/classes.py", line 246, in docstring
doc = self._get_docstring()
File "/usr/local/lib/python3.8/dist-packages/jedi/api/classes.py", line 257, in _get_docstring
return self._name.py__doc__()
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/names.py", line 340, in py__doc__
names = self.goto()
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/names.py", line 155, in goto
module_names = goto_import(context, name)
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/cache.py", line 43, in wrapper
rv = function(obj, *args, **kwargs)
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/imports.py", line 76, in goto_import
_prepare_infer_import(module_context, tree_name)
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/imports.py", line 114, in _prepare_infer_import
importer = Importer(module_context.inference_state, tuple(import_path),
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/imports.py", line 168, in __init__
debug.speed('import %s %s' % (import_path, module_context))
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/context.py", line 210, in __repr__
return '%s(%s)' % (self.__class__.__name__, self._value)
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/value/module.py", line 263, in __repr__
self.__class__.__name__, self._string_name,
File "/usr/local/lib/python3.8/dist-packages/jedi/inference/value/module.py", line 125, in _string_name
r = re.search(r'([^%s]*?)(%s__init__)?(\.pyi?|\.so)?$' % sep, self._path)
File "/usr/lib/python3.8/re.py", line 199, in search
return _compile(pattern, flags).search(string)
TypeError: expected string or bytes-like object


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 4205.md -->
