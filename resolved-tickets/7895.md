
# Databricks: Monorepo automatic recloning <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#7895](https://sourcegraph.zendesk.com/agent/tickets/7895)
- Application engineer: Ben Gordon
- Customer: Databricks <!-- Redact if this contains personally identifying information -->
- Date: April 27, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: ​
- Deployment:
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links:
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Description of Customer Issue
- monorepo automatically reclones approx. 1x each day
### Troubleshooting Steps
- Multiple live calls eventually point us to git gc being the cause of the monorepo recloning
- In version 3.39, we added SG Maintenance to replace git gc as the default garbage collector for git repos.  We also disabled git gc as they perform the same function.  Engineering overlooked one place where git gc still runs, and did not disable it fully.  This causes errors where git gc and SG Maintenance can run on the same repository at the same time, causing repository corruption.  This has been fixed in version 3.41.
### Resolution
- disable git gc using `git config gc auto 0`

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 7895.md -->
