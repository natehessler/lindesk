
# Templating in batch changes returning error <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#9214](https://sourcegraph.zendesk.com/agent/tickets/9214)
- Application engineer: Jason Harris
- Customer: Cornerstone OnDemand (CSOD) <!-- Redact if this contains personally identifying information -->
- Date: June 22, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.41​
- Deployment: docker-compose
- External Services: BITBUCKETSERVER
- Auth Providers: builtin,saml

## Links
<!-- Data for application engineer manual entry -->
- Slack Links: N/A
- GitHub Issue Link: https://github.com/sourcegraph/customer/issues/1082 
- Doc Update Link: N/A

## Summary
step.stdout was including a newline white space, causing the following error:
Error:
   {
     "message": "2 errors occurred:\n\t* Must validate one and only one schema (oneOf)\n\t* headRef: Does not match pattern '^refs\\/heads\\/\\S+$'\n\n",
     "path": [
       "createChangesetSpec"
     ]
   }


After upgrading from 3.27 to 3.41 (!!!!), the customer simply needed to use a replace helper to solve the carriage return issue:
outputs:
      jiraId:
        value: ${{ replace step.stdout "\n" "" }}


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 9214.md -->
