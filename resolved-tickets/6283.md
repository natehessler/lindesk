
# Issues Testing Upgrade / Downgrade to v3.35: Unhealthy container error when downgrading <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#6283](https://sourcegraph.zendesk.com/agent/tickets/6283)
- Application engineer: Riana Shahid
- Customer: bet365 <!-- Redact if this contains personally identifying information -->
- Date: Feb 16

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.35.1​
- Deployment: docker-compose
- External Services: GITLAB
- Auth Providers: gitlab,gitlab,gitlab,gitlab,gitl


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: n/a
- GitHub Issue Link: n/a
- Doc Update Link: n/a

## Summary
### Customer Question
Customer recently upgraded and then as a test, wanted to try downgrading in the event of any errors when upgrading in the future. They got an error saying their frontend container is unhealthy 
```
ERROR: for sourcegraph-frontend-0  Container "{localdocker name}" is unhealthy.
ERROR: Encountered errors while bringing up the project.
[root@XXXXXXXXXX docker-compose]#
```

### Application Engineer Answer
I first recommended that they try restarting the container to see if that clears the error. This did not work but overnight the customer cleared the error themselves by going back to the upgraded version. I let them know that presently, downgrading is not recommended because it's prone to errors like the one they got but a future release of sourcegraph should make the process easier. The customer initially downgraded as a way to recover if anything went wrong during an upgrade. I recommended that they have a backup and work from there in the future instead of downgrading their instance. 

### Relevant Docs Pages Used/Created
https://sourcegraph.slack.com/archives/C01JR51JR5J/p1645032270381909 <br />
https://docs.sourcegraph.com/admin/how-to/dirty_database <br />
https://docs.sourcegraph.com/admin/how-to/rollback_database <br />
https://docs.sourcegraph.com/admin/install/docker-compose/operations#backup-and-restore

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 6283.md -->
