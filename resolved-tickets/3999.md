

# Sourcegraph help request <!-- Ticket Title  Hint: include keywords to make it searchable -->



- Zendesk Link: [#3999](https://sourcegraph.zendesk.com/agent/tickets/3999)

- CSE: Alex Jean-Baptiste

- Customer: Redhat <!-- Redact if this contains personally identifying information -->


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: ​113937_2021-10-27_672a57a

- Deployment: Sourcegraph Cloud

- External Services: N/A

- Auth Providers: N/A





## Links
<!-- Data for CSE manual entry -->
- Slack Links: Email thread

- GitHub Issue Link: https://github.com/sourcegraph/sourcegraph/issues/27520 

- Doc Update Link: N/A



## Summary

### Description of Customer Issue

The customer posed a question about constructing a query to generate a list of repositories with open source licenses and whether or not Sourcegraph Cloud would return a data set that large.



### Troubleshooting Steps

I consulted the documentation located here: https://docs.sourcegraph.com/code_search/reference/queries
I explained to the customer that only 2.1 million starred GitHub repositories have been indexed so far so the results are limited to whatever is in that data set.
I explained the UI limitations of displaying all possible search results and explained that using the Sourcegraph CLI tool would display all the results without the bottleneck of UI limitations.
I offered a possible query solution to the customer.

The customer was not able to use the recommended query `file:^LICENSE$ content:"MIT License" count:all` with `src-cli` and needed to add the `-stream` flag to get a successful query. The full command is as follows: `src search -stream 'file:^LICENSE$ content:"MIT License"'`.

The customer followed up with a question about using the `repo:contains.commit.after(...)` keyword in addition to the previous query.

The full query is then as follows: `file:^LICENSE$ content:"MIT License" repo:contains.commit.after(November 1 2020) count:all`

The customer experienced an error and inconsistent search results when using the above query leading to public facing bug report to be filed. 


### Resolution

No resolution. A bug report was filed.


### Relevant Error / Logs

The customer received the following error when running `file:^LICENSE$ content:"MIT License" repo:contains.commit.after(November 1 2020) count:all`:`error during decoding: stream error: stream ID 1; INTERNAL_ERROR`

<!-- Please redact keys, tokens, and personal identifying information -->




<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 3999.md -->
