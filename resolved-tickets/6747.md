
# Re: Re: Sourcegraph Batch Changes <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#6747](https://sourcegraph.zendesk.com/agent/tickets/6747)
- Application engineer: Warren Gifford
- Customer: Cornerstone OnDemand (CSOD) <!-- Redact if this contains personally identifying information -->
- Date: Mar 9

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.27.5​
- Deployment: docker-compose
- External Services: BITBUCKETSERVER
- Auth Providers: builtin,saml


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: n/a
- GitHub Issue Link: https://github.com/sourcegraph/customer/issues/760
- Doc Update Link:

## Summary
### Customer Question

How to make a batch change PR with a specific commit author and username?

How to have default reviewers for batch changes in Bit bucket?

### Application Engineer Answer

1

Example
name: hello-world2
description: Add Hello World to READMEs

# Find all repositories that contain a README.md file.
on:
  - repositoriesMatchingQuery: file:README.md repo:^bitbucket\.sgdev\.org/BAT/batchtest$
# In each repository, run this command. Each repository's resulting diff is captured.
steps:
  - run: echo Hello World | tee -a $(find -name README.md)
    container: alpine:3

# Describe the changeset (e.g., GitHub pull request) you want for each repository.
changesetTemplate:
  title: Hello World
  body: My first batch change!
  branch: hello-world # Push the commit to this branch.
  commit:
    message: Append Hello World to all README.md files
    author:
      name: Sourcegraph Engineers
      email: engineering-team@sourcegraph.com


2

I believe BitBucket default reviewers wasn't added as a feature until v3.28.0 of Sourcegraph. Tracking it down it looks like there was some discussion of the subject in these github issues (#1 #2). Here's the entry in the changelog for this. 
 
I believe if you upgrade your instance to v3.28.0 you should start getting default reviewers on your batch change PRs. Would it be possible to upgrade? 


### Relevant Docs Pages Used/Created
https://github.com/sourcegraph/sourcegraph/issues/20472
https://docs.sourcegraph.com/batch_changes/references/batch_spec_yaml_reference#changesettemplate-commit-author
https://confluence.atlassian.com/bitbucketserver/using-repository-hooks-776639836.html

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 6747.md -->
