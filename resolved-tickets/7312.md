
# docker container: bitbucket ssl cloning issues <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#7312](https://sourcegraph.zendesk.com/agent/tickets/7312)
- Application engineer: Kelvin Lee
- Customer: Visa <!-- Redact if this contains personally identifying information -->
- Date: Apr 1

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.38.9
- Deployment: docker-container
- External Services: Bitbucket
- Auth Providers: Unknown


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: I ping the RFH [here](https://sourcegraph.slack.com/archives/C02E4HE42BX/p1649388668786209) , but it doesn't add much value for solution'ing. Just context.
- GitHub Issue Link: [RFH](https://github.com/sourcegraph/customer/issues/818) 
- Doc Update Link: None

## Summary
### Customer Question
Certificate / SSL errors when trying to add project repos. Customer reported that setup was fine on personal computer, but not on work laptop. Both AER + customer suspicious that the issue is related to authoirization/authentication in the networking layer.

### Application Engineer Answer
"One thing that you can try is adding the `experimentalFeatures.tls.external` key to your site-config, which takes a couple of other sub-values. You can see it [here](https://docs.sourcegraph.com/admin/config/site_config#experimentalFeatures) for some guidance on how to format the values for the certificates (in the commented out examples section, ctrl+f `tls.external`)"

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/config/site_config#experimentalFeatures 


### Relevant Logs
- `SSL certificate problem: self signed certificate in certificate chain`
   - This is the crux of the issue. All other logs were irrelevant or non-blocking to getting either the repos synced or the instance up. 
- `exit status 128 `
  - Not sure if this one is related to SSL, but maybe? 

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 7312.md -->
