# New Slack message in support-criteo <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#7277](https://sourcegraph.zendesk.com/agent/tickets/7277)
- Application engineer: Stomzy Mwendwa
- Customer: Criteo <!-- Redact if this contains personally identifying information -->
- Date: Mar 31

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.38.0
- Deployment: Kubernetes
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/CV5KX7T70/p1648736504714249 
- GitHub Issue Link: https://github.com/sourcegraph/customer/issues/813 
- Doc Update Link: N/A

## Summary
### Description of Customer Issue
The customer upgraded to v3.38.0 and experienced an issue with syntax highlighting where they received the following error: "http://syntect-server:9238: HSS worker timeout while serving request" 
### Troubleshooting Steps
Asked the customer to run some benchmarking to find out the duration highlighting takes by: 
Locally copy the file that is timing out, say at /path/to/File.json.
Clone our syntect repo. git clone https://github.com/sourcegraph/syntect.git && cd syntect.
Test highlighting times with two branches: slimsag-main and main. (Showing the steps for slimsag-main below, same steps would apply with main).

git checkout slimsag-main
git submodule update --init
# requires a Rust toolchain (see https://rustup.rs/)
cargo build --release --example synhtml
# run benchmark, e.g. with hyperfine (https://github.com/sharkdp/hyperfine#installation)
hyperfine './target/release/examples/synhtml /path/to/File.scala'


Also requested for the size of the file which was 1.3M. Quite a large file to highlight, with 24,663 lines of code.
### Resolution
This issue will be fixed by https://github.com/sourcegraph/sourcegraph/issues/33697 and the syntax highlighter migrated from syntect to tree-sitter which will improve highlighting by 3 - 5x for larger files.
### Relevant Docs Pages Used/Created

### Relevant Error / Logs
<!-- Please redact keys, tokens, and personal identifying information -->
