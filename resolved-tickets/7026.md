
# search inside of a function ( regex, structural search, haskell, lines of code, blanks) <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#7026](https://sourcegraph.zendesk.com/agent/tickets/7026)
- Application engineer: Kelvin Lee
- Customer: Mercury <!-- Redact if this contains personally identifying information -->
- Date: Mar 18

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: No info (Presumably Sourcegraph.com? 3.38.0?)
- Deployment: No info (Presumably Sourceraph.com? k8s)
- External Services: No info/not relevant
- Auth Providers: No info/not relevant


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: [Slack](https://sourcegraph-community.slack.com/archives/C02BG0M0ZJ7/p1647634936822109)
- GitHub Issue Link: None
- Doc Update Link: None

## Summary
### Customer Question
Direct quote:

> is there a way to limit the search to inside of a single function (or specify a list of functions and look inside each of them) ?

Notes: This customer was using Haskell.

### Application Engineer Answer
There.... might be, depending on the language. Though with Haskel, it is unlikely to work, due to it qualifying as one of the limitations, documented [here](https://docs.sourcegraph.com/code_search/reference/structural#current-functionality-and-configuration), but quoted below (since things might change in the future):

> Matching blocks in indentation-sensitive languages. It’s not currently possible to match blocks of code that are indentation-sensitive. This is a feature planned for future work.

(Noting that Haskell is pretty indentation/white-space dependent, as maybe suggested [here](https://en.wikibooks.org/wiki/Haskell/Indentation))

Couldn't get a workaround for this customer's use case in RegEx neither.

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/code_search/reference/structural#current-functionality-and-configuration
https://github.com/google/re2/wiki/Syntax

### Other Links
Potential useful haskell libarries to try on: https://github.com/kirel/detexify-hs-backend
https://github.com/haskell-cryptography/cacophony
https://github.com/haskell-hvr/missingh/tree/master/src
https://github.com/hapytex/hutt/blob/master/src/Text/Parse/Trie.hs
The piece of code I had tested on: https://sourcegraph.com/search?q=context:global+repo:%5Egithub%5C.com/haskell-hvr/missingh%24%40master+file:%5Esrc/Network/Utils%5C.hs+niceSocketsDo%5Csfunc%5Cs%3D%5Csdo%5Cn.*&patternType=regexp
<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 7026.md -->
