# Clearing Migration Errors & AWS IAM Policy For Storage Volume <!-- Ticket Title  Hint: include keywords to make it searchable -->
 
- Zendesk Link: [#4971](https://sourcegraph.zendesk.com/agent/tickets/4971)
- Application engineer: Alex Jean-Baptiste
- Customer: VideoAmp <!-- Redact if this contains personally identifying information -->
- Date: Dec 9

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->
 
## Technical Environment
- Version: â€‹3.34.1
- Deployment: Kubernetes
- External Services: GitHub
- Auth Providers: Built-in, GitHub
 
 
## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C02P8ANKTJ9/p1639066970000200
- GitHub Issue Link: N/A
- Doc Update Link:N/A
 
## Summary
### Customer Question
The customer was experiencing failed database migrations when attempting to set up their external AWS RDS database. Once the database migration errors were cleared the customer experienced a storage volume error that was resolved with AWS IAM policy configuration.

### Application Engineer Answer
The customer was directed towards documentation on fixing database migration errors as well as the source code of the offending migrations. When the storage volume errors appeared this StackOverflow answer was used as a reference for diagnosing the error.
 
### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/how-to/dirty_database#tl-dr-steps-to-resolve
https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/migrations/frontend/1528395862_remove_sg_service_role.up.sql?subtree=true
https://stackoverflow.com/questions/68725070/k8s-pods-failure-error-while-running-volumebinding-prebind-plugin-for-pod-a?rq=1

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 4971.md -->
