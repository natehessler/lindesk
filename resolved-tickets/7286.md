
# External Redis Cache <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#7286](https://sourcegraph.zendesk.com/agent/tickets/7286)
- Application engineer: Gabe Torres
- Customer: Reddit <!-- Redact if this contains personally identifying information -->
- Date: Mar 31

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.36.2​
- Deployment: kubernetes
- External Services: GITHUB
- Auth Providers: builtin,github

## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C02BJ8T258D/p1648759345006649
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Customer Question
I'm trying to move our Sourcegraph instance to use ElastiCache Redis. I set the REDIS_STORE_ENDPOINT environment https://docs.sourcegraph.com/admin/install/kubernetes/configure#configure-custom-redisin the documented deployments and stateful >sets. After this change, the frontend pod refuses to start.

### Application Engineer Answer
The customer attempted to connect to a Redis Cluster instance. We use a Go Redis (redigo) client that doesn’t have direct support for clustered Redis. This caused issues like losing user sessions and the frontend failed readiness probes. Using non-distributed Redis worked.

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/external_services/redis  
https://docs.sourcegraph.com/admin/install/kubernetes/configure#configure-custom-redis 

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 7286.md -->
