
# hard error search code-intel responses every 5m <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#5638](https://sourcegraph.zendesk.com/agent/tickets/5638)
- Application engineer: Gabe Torres
- Customer: Indeed <!-- Redact if this contains personally identifying information -->
- Date: Jan 18

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.33.2​
- Deployment: kubernetes
- External Services: GITLAB
- Auth Providers: saml


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/CSKMGUJ58/p1642540962026500 
- GitHub Issue Link: https://github.com/sourcegraph/customer/issues/706 
- Doc Update Link:

## Summary
### Description of Customer Issue
The customer was seeing the alert 'hard error search code-intel responses' fire a lot. 

### Troubleshooting Steps
We saw some symbols errors in the frontend logs.  
We also saw other alerts which relate to underprovisioned instances. 
After looking at some of their yaml files, they had low resources and high resource usage.

### Resolution
The customer stopped responding, but these errors are related to low resources. The customer needed to add more symbols replicas and increase the resources for zoekt webserver.

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/how-to/monorepo-issues#symbols-sidebar-processing-symbols   

### Relevant Error / Logs
<!-- Please redact keys, tokens, and personal identifying information -->

```t=2022-02-01T16:42:00+0000 lvl=warn msg="slow search request" actor_internal=false actor_uid=5383 alert_type= duration_ms=20 error="1 error occurred:\n\t* symbol search failed: no symbols endpoints could be found (this may indicate more symbols replicas are needed, contact support@sourcegraph.com for assistance)\n\n" query="^return$ type:symbol patternType:regexp count:500 case:yes file:\\.(kt|ktm|kts)$ repo:^repo-name@revision" result_size=0 source=browser status=error type=CodeIntelSearch```

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 5638.md -->
