
# redis scaling , sizing, resource estimator <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#6838](https://sourcegraph.zendesk.com/agent/tickets/6838)
- Application engineer: Kelvin Lee
- Customer: Snowflake, Inc. <!-- Redact if this contains personally identifying information -->
- Date: Mar 11

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.34.1​
- Deployment: docker-compose
- External Services: GITHUB
- Auth Providers: builtin,github


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: [Slack](https://sourcegraph.slack.com/archives/C021MU16S1F/p1647042858527439)
- GitHub Issue Link: None
- Doc Update Link: None

## Summary
### Customer Question
"does redis need 100Gi for the PVC? Wondering if we can decrease this number"

### Application Engineer Answer
Default sizes made by the [k8s deployment](https://github.com/sourcegraph/deploy-sourcegraph) or the [docker-compose deployment](https://github.com/sourcegraph/deploy-sourcegraph-docker) repos are generally best place to start. But there's [soft/fuzzy evidence](https://docs.sourcegraph.com/admin/external_services/redis#using-your-own-redis-server) to suggest that redis may not need a lot of memory. Also shared the [resource estimator](https://docs.sourcegraph.com/admin/install/resource_estimator) just to be safe. Also shared the `-/debug/grafana/d/redis/redis` url path that can be used to monitor the provisioning indicators/memory usage. "Provisioning indicators" is a table near the bottom of the grafana page that could be helpful for testing lower memory allocation.

### Relevant Docs Pages Used/Created
https://github.com/sourcegraph/deploy-sourcegraph
https://github.com/sourcegraph/deploy-sourcegraph-docker
https://docs.sourcegraph.com/admin/external_services/redis#using-your-own-redis-server
https://docs.sourcegraph.com/admin/install/resource_estimator
`-/debug/grafana/d/redis/redis`

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 6838.md -->
