# New message in support-booking <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#8916](https://sourcegraph.zendesk.com/agent/tickets/8916)
- Application engineer: Stomzy Mwendwa
- Customer: Booking.com <!-- Redact if this contains personally identifying information -->
- Date: June 13, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.37.0â€‹
- Deployment: kubernetes
- External Services: GITLAB
- Auth Providers: gitlab


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C024D1ESXUH/p1655119992407889 
- GitHub Issue Link: N/A
- Doc Update Link: N/A

## Summary
### Description of Customer Issue
query{
    repository(name: "gitlab.booking.com/core/main") {
        comparison(base: "a6c2cbdccf691a2b8032c1d0da65a34a70e3ad72", head: "a6c2cbdccf691a2b8032c1d0da65a34a70e3ad70") {
            commits {
                nodes{
                    oid
                    parents {
                        oid
                    }
                }
            }
        }
    }
}

sending this to the API a6c2cbdccf691a2b8032c1d0da65a34a70e3ad72 is not a valid commit, and the reponse takes quite sometime to tell me revision not found.While for both valid commits is instant
### Troubleshooting Steps
Tried this https://cse-k8s.sgdev.org/api/console#%7B%22query%22%3A%22query%20%7B%5Cn%20%20repository(name%3A%20%5C%22github.com%2Fairamare01%2Freact-map-gl%5C%22)%20%7B%5Cn%20%20%20%20comparison(base%3A%20%5C%22be0e126z%5C%22%2C%20head%3A%20%5C%22be0e126b%5C%22)%20%7B%5Cn%20%20%20%20%20%20commits%20%7B%5Cn%20%20%20%20%20%20%20%20nodes%7B%5Cn%20%20%20%20%20%20%20%20%20%20oid%5Cn%20%20%20%20%20%20%20%20%20%20parents%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20oid%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%22%7D 

This was instant.


Tried 

query {
  repository(name: "github.com/visgl/react-map-gl") {
    comparison(base: "be0e126c", head: "be0e126b") {
      commits {
        nodes{
          oid
          parents{
            oid
          }
        }
      }
    }
  }
}


Tried this query on dotcom and it brought back the revision not found in about 10 to 15 seconds

### Resolution
Filed a bug report here: https://github.com/sourcegraph/sourcegraph/issues/37269 
### Relevant Docs Pages Used/Created

### Relevant Error / Logs
<!-- Please redact keys, tokens, and personal identifying information -->
