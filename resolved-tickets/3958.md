

# Batch Changes - GitHub Rate Limit <!-- Ticket Title  Hint: include keywords to make it searchable -->



- Zendesk Link: [#3958](https://sourcegraph.zendesk.com/agent/tickets/3958)

- CSE: Gabe Torres

- Customer: Reddit <!-- Redact if this contains personally identifying information -->


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: ​3.32

- Deployment: Kubernetes

- External Services: NA

- Auth Providers: NA





## Links
<!-- Data for CSE manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C02BJ8T258D/p1634773029360700 

- GitHub Issue Link: https://github.com/sourcegraph/customer/issues/533 

- Doc Update Link: 



## Summary

### Description of Customer Issue
The customer had an issue with batch changes taking days to publish. We believe there's a bottleneck between the code host and batch changes. Reddit will increase the rate limit to their GitHub and see if this improves the batch change reconciliation.



### Troubleshooting Steps
During a call with the customer, we saw a bottleneck in batch change reconciliations.
To check remaining calls to GitHub rest API before hitting the rate limit
https://cse-k8s.sgdev.org/-/debug/grafana/d/repo-updater/repo-updater?orgId=1



### Resolution
The net result of the major issue here is that it appears that their GHE instance is rate-limiting Sourcegraph, which is behaving as expected and respecting the rate limits.



### Relevant Error / Logs

<!-- Please redact keys, tokens, and personal identifying information -->




<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 3958.md -->
