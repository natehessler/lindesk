

# New Slack message in support-nutanix <!-- Ticket Title  Hint: include keywords to make it searchable -->



- Zendesk Link: [#4869](https://sourcegraph.zendesk.com/agent/tickets/4869)

- Application engineer: Warren Gifford

- Customer: Nutanix, Inc. <!-- Redact if this contains personally identifying information -->

- Date: Dec 3


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: 3.34.1​

- Deployment: kubernetes

- External Services: GITHUB,OTHER

- Auth Providers: builtin,saml





## Links
<!-- Data for application engineer manual entry -->
- Slack Links: [https://sourcegraph.slack.com/archives/CTJCMDCCS/p1638549248021800](https://sourcegraph.slack.com/archives/CTJCMDCCS/p1638549248021800)

- GitHub Issue Link: n/a

- Doc Update Link: n/a



## Summary

### Customer Question
How to set up CircleCI to autoindex typescript repos


### Application Engineer Answer



Hey @sriram.ravichandran save_cache here is being used by Circle CI to store information between jobs . In the example the first job installs dependencies (npm install or yarn usually) and then saves them with the save_cacheThe next job runs the indexer with the step run: lsif-tsc -p . , the typescript indexer uses the node_modules directory to help generate monikers which enable things like cross repo jump to definition. Without first building the dependencies the indexer can sometimes produce inaccurate links between symbols.For typescript repos you should be able to just save the node_modules directory between jobs in Circle CI. Hope that helps, let me know if you have any more questions on that and I'll be happy to do some more investigation

I’d like support for Go and Python

For go we have done a lot of work and have some good documentation in the link shared by mike as well as here.Python is something thats still a little less developed, more general information can be found here. With information about our indexer contained here.



Follow up:

We actually have a sourcegraph/lsif-go:latest image that can be used here. I believe you could use any OS that will support pulling in the lsif-go  tool with a curl as seen in the manual indexing instructions. Edit: I'm also just noticing this example was from the GitHub Actions example shared in our docs. I don't believe CircleCI supports a runs-on: option.
Right if your src token is authenticated with your private Sourcegraph instnace you should be able to use a command like src -endpoint=<your sourcegraph endpoint> lsif upload and omit the github token



Also, if I run the cirlcle CI in docker, I’ll need to install lisf-go and src in order to execute the steps above?

Yeah thats correct if you choose not to use our sourcegraph/lsif-go:latest image tag. We've got some examples of CircleCI lsif-go using our image here. (edited) 



### Relevant Docs Pages Used/Created
[https://docs.sourcegraph.com/code_intelligence/how-to/index_a_go_repository](https://docs.sourcegraph.com/code_intelligence/how-to/index_a_go_repository)


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 4869.md -->
