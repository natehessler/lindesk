
# grail - prevent auto fetch of specific repo -disk space request <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#8724](https://sourcegraph.zendesk.com/agent/tickets/8724)
- Application engineer: Warren Gifford
- Customer: GRAIL <!-- Redact if this contains personally identifying information -->
- Date: June 3, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.30.4​
- Deployment: kubernetes
- External Services: AWSCODECOMMIT,OTHER,PHABRICATOR
- Auth Providers: builtin,http-header


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: 
- GitHub Issue Link: https://github.com/sourcegraph/customer/issues/1018
- Doc Update Link:

## Summary
### Description of Customer Issue
Customer observed frequent reclones of their large monorepo

### Troubleshooting Steps
Check the gitserver logs and grep for the name of the repo, additionally check repo-updater logs the same way

Gather git-stats info on the monorepo

### Resolution
It was observed in the logs that disk space was running out on the instance causing garbage cleanup to reclone this repo

### Relevant Docs Pages Used/Created

### Relevant Error / Logs
<!-- Please redact keys, tokens, and personal identifying information -->
      "message": "t=2022-06-06T17:57:41+0000 lvl=warn msg=\"cleanup: removed least recently used repo\" repo=/data/repos/gitlab.com/grailbio/grail/.git how old=5m28.761069642s free space in GiB=32.736 actual percent of disk space free=13.357 desired percent of disk space free=10.000 space freed in GiB=35.630 how much space to free in GiB=0.189"



<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 8724.md -->
