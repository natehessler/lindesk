

# Re: Sourcegraph Usage Download <!-- Ticket Title  Hint: include keywords to make it searchable -->



- Zendesk Link: [#4614](https://sourcegraph.zendesk.com/agent/tickets/4614)

- Application engineer: Jason Harris

- Customer: Qualtrics <!-- Redact if this contains personally identifying information -->

- Date: Nov 17


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: 3.33.0​

- Deployment: docker-container

- External Services: GITLAB

- Auth Providers: gitlab,gitlab





## Links
<!-- Data for application engineer manual entry -->
- Slack Links: N/A

- GitHub Issue Link: Feature request filed: https://github.com/sourcegraph/sourcegraph/issues/27854

- Doc Update Link: N/A



## Summary

### Description of Customer Issue

Customer complained that user id's in downloadable csv's did not correspond with Id's in the graphql API. This is because they are base64 encoded. Makes it almost impossible to know what statistics apply to what user.



### Troubleshooting Steps

Duplicated issue.
Looked for a way to query a user by ID. Turns out you can only query users by username or email



### Resolution

GraphQL workaround for getting the correct data. Advised against using CSV's until it can be fixed.

```query {
# use the 'first' variable to limit results
  users(activePeriod: THIS_MONTH, first:5) {
    totalCount
    nodes {
      username,
      id,
      usageStatistics {
        lastActiveTime,
        searchQueries,
        pageViews,
        codeIntelligenceActions,
        findReferencesActions,
        lastActiveCodeHostIntegrationTime
      }
    }
  }
}
```


### Relevant Docs Pages Used/Created



### Relevant Error / Logs

<!-- Please redact keys, tokens, and personal identifying information -->




<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 4614.md -->
