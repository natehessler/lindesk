
# GitCommit.ancestors <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#10347](https://sourcegraph.zendesk.com/agent/tickets/10347)
- Application engineer: Gabe Torres
- Customer: Netflix <!-- Redact if this contains personally identifying information -->
- Date: August 10, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.37.0​
- Deployment: pure-docker
- External Services: BITBUCKETSERVER
- Auth Providers: http-header

## Links
<!-- Data for application engineer manual entry -->
- Slack Links:
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Customer Question
I'm trying to understand what values can go in GitCommit.ancestors(query: "..."). For example, is it possible to filter out commits with a particular author?

### Application Engineer Answer
The query field can only search the commit body or message. Using the search query API instead will allow for more filter options.

```query {
search(version:V2, query:"repo:github.com/sourcegraph/sourcegraph$ type:commit -author:'Nick Snyder' count:all after:'2022-08-01'") {
stats {
approximateResultCount
}
```

### Relevant Docs Pages Used/Created

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 10347.md -->
