
# How to import a codehost into Sourcegraph using GraphQL <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#5748](https://sourcegraph.zendesk.com/agent/tickets/5748)
- Application engineer: Michael Bali
- Customer: Citrix <!-- Redact if this contains personally identifying information -->
- Date: Jan 22,2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.35.1​
- Deployment: docker-compose
- External Services: BITBUCKETSERVER
- Auth Providers: saml


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/CT9P97S6L/p1642934728014800
- GitHub Issue Link: N/A
- Doc Update Link: https://github.com/sourcegraph/sourcegraph/pull/30230

## Summary
### Customer Question
The customer wants to know if it's possible to import a code host using GraphQL API

### Application Engineer Answer
This is possible using `mutation.AddExternalService`.
Your query would look like the below;
```
mutation {
addExternalService(
input: {kind: GITHUB, displayName: "github-m", config: "{\"url\":\"https://github.com\",\"token\":\"xxxxxxxxx\",\"repos\":[\"<owner><repo>\"]}"
 
}
) {
id
nextSyncAt
}
}
```

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/how-to/mutate-user-api

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 5748.md -->
