
# Code Insights multiline search results <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#8610](https://sourcegraph.zendesk.com/agent/tickets/8610)
- Application engineer: Gabe Torres
- Customer: Netflix <!-- Redact if this contains personally identifying information -->
- Date: May 31, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.37.0​
- Deployment: pure-docker
- External Services: BITBUCKETSERVER
- Auth Providers: http-header


## Summary
### Customer Question
I’m building Sourcegraph Insights and seem to have run into what looks like a bug.
The data series that I’m building is using a regex that can match over multiple lines, and this results in an overcount. See how it says 3 matches above the search result. But it’s actually just one match that happens to span 3 lines.

### Application Engineer Answer
Our search uses line-based counts rather than block counts. For this reason, Code Insights regex search only supports single-line matches.
This is a search limitation we are aware of: https://github.com/sourcegraph/sourcegraph/issues/31028
In the meantime, we can try finding a workaround for this query.

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/@v3.39.0/code_insights/explanations/automatically_generated_data_series#no-multiline-matches 

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 8610.md -->
