

# Exclude Repo Query Not Working <!-- Ticket Title  Hint: include keywords to make it searchable -->



- Zendesk Link: [#4406](https://sourcegraph.zendesk.com/agent/tickets/4406)

- CSE: Gabe Torres

- Customer: Netflix <!-- Redact if this contains personally identifying information -->

- Date: Nov 2


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: 3.33.0​

- Deployment: pure-docker

- External Services: BITBUCKETSERVER

- Auth Providers: http-header





## Links
<!-- Data for CSE manual entry -->
- Slack Links: NA

- GitHub Issue Link: https://github.com/sourcegraph/sourcegraph/issues/27044 

- Doc Update Link: NA



## Summary

### Description of Customer Issue
The customer reported an issue with the -repo: filter not excluding any repos. They are on version 3.33 and are seeing this on their staging and production instance. The repo: filter works correctly and search seems to be working correctly too. I'm seeing this behavior on the frontend and the API Console.



### Troubleshooting Steps
I looked at logs for frontend and zoekt but there was nothing relevant. After doing some testing we found the -repo: filter only worked on public repos.



### Resolution
This seems to be a bug as I was able to replicate this behavior.



### Relevant Docs Pages Used/Created
NA



### Relevant Error / Logs

<!-- Please redact keys, tokens, and personal identifying information -->

There were no errors in frontend or webserver logs.


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 4406.md -->
