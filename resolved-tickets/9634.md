
# Is there a way to do nested searches in Sourcegraph? <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#9634](https://sourcegraph.zendesk.com/agent/tickets/9634)
- Application engineer: Michael Bali
- Customer: Sourcegraph <!-- Redact if this contains personally identifying information -->
- Date: July 10, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: ​
- Deployment:
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links:  https://sourcegraph.slack.com/archives/C03MS1Q7MGQ/p1657531471785319
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Customer Question
Does Sourcegraph support returning repo with 2 distincts values for a search query?
For example, using the regex `Azure\.[\w\.]+`  as a basis for the search, and I have the following 3 repos:
- Repo A with files:
    - File 1 containing `Azure.Storage.Common` ,
    - File 2 containing `Azure.Storage.Common` ;
- Repo B with files:
  - File 1 containing `Azure.Storage.Common`,
  - File 2 containing `Azure.Storage.Blobs`;
- Repo C with files:
  - File 1 containing `Azure.Storage.Common`.

I would like the search to only return repo B. 

### Application Engineer Answer
I took some time to try this out and also discuss it with my colleagues and I can confirm this is not possible at the moment.
In order to map `Azure\.[\w\.]+` to different results, you'd need to compare results.
Further explanation, let's say in theory we could simplify the query and assume we know the different results a regex could match, then we could do something like `file:has.content(Azure.Storage.Common) or file:has.content(Azure.Storage.Blobs) select:file` which would give you the list of files containing either `Azure.Storage.Common` or `Azure.Storage.Blobs` . Doing `select:file` will then show the number of files (you want `>2`). So that effect, there's no way to specify "if the outcome of that query has 2 or more results then tell me which repos".

### Relevant Docs Pages Used/Created
https://sourcegraph.slack.com/archives/CHEKCRWKV/p1657725543389969
<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 9634.md -->
