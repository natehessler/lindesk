
# Search Context Question <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#9818](https://sourcegraph.zendesk.com/agent/tickets/9818)
- Application engineer: Michael Bali
- Customer: Typeform <!-- Redact if this contains personally identifying information -->
- Date: July 19, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: ​
- Deployment:
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C03PHL70ZH9/p1658238598215299
- GitHub Issue Link: N/A
- Doc Update Link: N/A

## Summary
### Customer Question
I’m getting the following error when trying to create a new search context:
> `Failed to create search context: unsupported pattern in search context query: “xxx/ci-xxxx-checks@v1-beta”`


### Application Engineer Answer
I am able to reproduce this behaviour on my end.
Using the Query-based search contexts is currently in beta and the allowed filters are: `repo`, `rev`, `file`, `lang`, `case`, `fork`, and `visibility`. `OR` and `AND` expressions are also allowed.A workaround to creating your Query-based search contexts is using the following parameters to create the context query
`file:ci-standard-checks lang:YAML `

The above would create the context without errors then you can now do a literal search of `xxxx/ci-xxx-checks@v1` or any string you are looking for when you switch to use this context .

The customer was trying to have such context to identify repos with such string and then run a query over those. Is it possible to do it in a different way ?For example, my idea was to create a search context to get all repos with a file `somefile.txt` that contains the string `something`, and then search in those repos the ones that have `anotherfile.txt` (which later I’ll have to batch change)
But that isnt possible at the moment.
### Relevant Docs Pages Used/Created

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 9818.md -->
