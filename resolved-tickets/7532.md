# New Slack Message in help sg developer tool <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#7532](https://sourcegraph.zendesk.com/agent/tickets/7532)
- Application engineer: Quinlan Sparks
- Customer: ServiceNow <!-- Redact if this contains personally identifying information -->
- Date: Apr 7

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: N/A troubleshooting `sg` developer tool, not a Sourcegraph instance
- Deployment: N/A
- External Services: N/A
- Auth Providers: N/A


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph-community.slack.com/archives/C02BG0M0ZJ7/p1649363023443059
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Description of Customer Issue
The customer was trying to set up a local development environment using `sg setup` but was running into issues getting some of the dependencies installed and useable. 

### Troubleshooting Steps
1. Followed the quickstart instructions for setting up the local environment [here](https://docs.sourcegraph.com/dev/setup/quickstart) to attempt to recreate the issue
2. Restart the shell when prompted by `sg`
3. Run `sg doctor` to verify everything is ready
4. Run `sg start oss` to imitate the customer's experience as an open source contributor


### Resolution
Running `sg start oss` after restarting the shell and checking `sg doctor` surfaced an error that the customer was able to trace back to a dirty database error. They reset the `psql` database and got everything working as expected.

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/dev/setup/quickstart

https://docs.sourcegraph.com/admin/how-to/dirty_database 

### Relevant Error / Logs
<!-- Please redact keys, tokens, and personal identifying information -->
```md
ğŸ‘‰ Which one do you want to fix?
[3,4,5]: 3
âŒ pcre

Encountered the following error:

dpkg: %!w(<nil>)

How to fix:

Run the following command(s):

sudo apt-get update && sudo apt-get -y install libpcre3-dev

ğŸ‘‰ What do you want to do?
[1]: I'll fix this manually (either by running the command or doing something else)
[2]: You can run the command for me
[3]: Go back
Enter choice: 2
ğŸ‘‰ Trying my hardest to fix "pcre" automatically...
[sudo] password for user:
Hit:1 https://download.docker.com/linux/ubuntu focal InRelease
Hit:2 http://us.archive.ubuntu.com/ubuntu focal InRelease
Get:3 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Get:4 http://us.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Hit:5 http://ppa.launchpad.net/git-core/ppa/ubuntu focal InRelease
Get:6 http://us.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
Get:7 http://us.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [1,711 kB]
Get:8 http://us.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [916 kB]
Fetched 2,963 kB in 1s (2,028 kB/s)
Reading package lists... Done
Reading package lists... Done
Building dependency tree
Reading state information... Done
libpcre3-dev is already the newest version (2:8.39-12build1).
0 upgraded, 0 newly installed, 0 to remove and 431 not upgraded.
âœ… Done! "pcre" should be fixed now!
ğŸ’¡ 0. Install base utilities (git, docker, ...)

Checks:
âœ… 1. gcc
âœ… 2. git
âŒ 3. pcre: dpkg: %!w(<nil>)
âŒ 4. sqlite: dpkg: %!w(<nil>)
âŒ 5. libev: dpkg: %!w(<nil>)
âœ… 6. pkg-config
âœ… 7. jq
âœ… 8. curl
âœ… 9. comby
âœ… 10. bash
âœ… 11. docker
ğŸ‘‰ Which one do you want to fix?
[3,4,5]:
```


<!--Â Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-ticketsÂ as a .md file -->
<!-- Name the file 7532.md -->
