# New Slack message in support-apple-spg 



- Zendesk Link: [#3615](https://sourcegraph.zendesk.com/agent/tickets/3615)

- CSE: Warren Gifford

- Customer: Apple <!-- Redact if this contains personally identifying information -->


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: 3.31.2​

- Deployment: docker-container

- External Services: OTHER

- Auth Providers: saml





## Links
<!-- Data for CSE manual entry -->
- Slack Links: (https://sourcegraph.slack.com/archives/C0225J36ZTR/p1633026776028700)[https://sourcegraph.slack.com/archives/C0225J36ZTR/p1633026776028700]

- GitHub Issue Link: (https://github.com/sourcegraph/customer/issues/507)[https://github.com/sourcegraph/customer/issues/507]

- Doc Update Link:



## Summary
### Description of Customer Issue:  

The customer reported that many repos had not been synching for weeks, zoekt-indexserver logs indicated failure to shut down processes in the go automation of indexing processes

### Troubleshooting Steps: 

remove the repo and re-add
restart the zoekt-indexserver (worked in our case test instance but not in customer single container)
look for "poison pill" repo to remove

### Resolution:  
This issue was only resolved after upgrading from v3.30.3 to v3.31.2
I'm unable to gather more info from the customer but it is suspected that the single-container instance was resource constrained and upgrading rolled in many CPU and mem performance improvements that ultimately resolved this issue for the customer. 

### Relevant Error / Logs:  

<!-- Please redact keys, tokens, and personal identifying information -->
```logs
"_raw","_time",host,index,linecount,source,sourcetype,"splunk_server"

"{""line"":""\u001b[0;32m20:59:50         zoekt-indexserver | \u001b[0m2021/09/30 20:59:50 kill failed: os: process already finished"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T13:59:50.732-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"mr29p01if-ztfq07151401.mr.if.apple.com-8081"

"{""line"":""\u001b[0;32m20:59:50         zoekt-indexserver | \u001b[0m2021/09/30 20:59:50 no output for 30m0s, killing [zoekt-git-index -submodules=false -incremental -branches HEAD -file_limit 1048576 -parallelism 4 -index /var/opt/sourcegraph/zoekt/index -require_ctags /var/opt/sourcegraph/zoekt/index/.indexserver.tmp/tmpfriend-41-114633306/github%2Fspg%2Ftlab-ansible-scripts.git]"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T13:59:50.732-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"mr29p01if-ztfq07151401.mr.if.apple.com-8081"

"{""line"":""\u001b[0;32m20:29:50         zoekt-indexserver | \u001b[0m2021/09/30 20:29:50 kill failed: os: process already finished"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T13:29:50.731-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"mr29p01if-ztfq07161401.mr.if.apple.com-8081"

"{""line"":""\u001b[0;32m20:29:50         zoekt-indexserver | \u001b[0m2021/09/30 20:29:50 no output for 30m0s, killing [zoekt-git-index -submodules=false -incremental -branches HEAD -file_limit 1048576 -parallelism 4 -index /var/opt/sourcegraph/zoekt/index -require_ctags /var/opt/sourcegraph/zoekt/index/.indexserver.tmp/tmpfriend-41-114633306/github%2Fspg%2Ftlab-ansible-scripts.git]"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T13:29:50.731-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"st14p01if-ztbv03180301.st.if.apple.com-8081"

"{""line"":""\u001b[0;32m19:59:50         zoekt-indexserver | \u001b[0m2021/09/30 19:59:50 kill failed: os: process already finished"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T12:59:50.731-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"pv38p01if-ztbv06014001.pv.if.apple.com-8081"

"{""line"":""\u001b[0;32m19:59:50         zoekt-indexserver | \u001b[0m2021/09/30 19:59:50 no output for 30m0s, killing [zoekt-git-index -submodules=false -incremental -branches HEAD -file_limit 1048576 -parallelism 4 -index /var/opt/sourcegraph/zoekt/index -require_ctags /var/opt/sourcegraph/zoekt/index/.indexserver.tmp/tmpfriend-41-114633306/github%2Fspg%2Ftlab-ansible-scripts.git]"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T12:59:50.731-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"mr29p01if-ztfq07151401.mr.if.apple.com-8081"

"{""line"":""\u001b[0;32m19:29:50         zoekt-indexserver | \u001b[0m2021/09/30 19:29:50 kill failed: os: process already finished"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T12:29:50.730-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"st14p01if-ztbv18244701.st.if.apple.com-8081"

"{""line"":""\u001b[0;32m19:29:50         zoekt-indexserver | \u001b[0m2021/09/30 19:29:50 no output for 30m0s, killing [zoekt-git-index -submodules=false -incremental -branches HEAD -file_limit 1048576 -parallelism 4 -index /var/opt/sourcegraph/zoekt/index -require_ctags /var/opt/sourcegraph/zoekt/index/.indexserver.tmp/tmpfriend-41-114633306/github%2Fspg%2Ftlab-ansible-scripts.git]"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T12:29:50.730-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"st14p01if-ztbv18244701.st.if.apple.com-8081"

"{""line"":""\u001b[0;32m18:59:50         zoekt-indexserver | \u001b[0m2021/09/30 18:59:50 kill failed: os: process already finished"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T11:59:50.730-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"mr29p01if-ztfq07171401.mr.if.apple.com-8081"

"{""line"":""\u001b[0;32m18:59:50         zoekt-indexserver | \u001b[0m2021/09/30 18:59:50 no output for 30m0s, killing [zoekt-git-index -submodules=false -incremental -branches HEAD -file_limit 1048576 -parallelism 4 -index /var/opt/sourcegraph/zoekt/index -require_ctags /var/opt/sourcegraph/zoekt/index/.indexserver.tmp/tmpfriend-41-114633306/github%2Fspg%2Ftlab-ansible-scripts.git]"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T11:59:50.730-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"st14p01if-ztbv03180301.st.if.apple.com-8081"

"{""line"":""\u001b[0;32m18:29:50         zoekt-indexserver | \u001b[0m2021/09/30 18:29:50 kill failed: os: process already finished"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T11:29:50.726-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"ms11p01if-hyfq29143601.ms.if.apple.com-8081"

"{""line"":""\u001b[0;32m18:29:50         zoekt-indexserver | \u001b[0m2021/09/30 18:29:50 no output for 30m0s, killing [zoekt-git-index -submodules=false -incremental -branches HEAD -file_limit 1048576 -parallelism 4 -index /var/opt/sourcegraph/zoekt/index -require_ctags /var/opt/sourcegraph/zoekt/index/.indexserver.tmp/tmpfriend-41-114633306/github%2Fspg%2Ftlab-ansible-scripts.git]"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T11:29:50.726-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"st14p01if-ztbv18244701.st.if.apple.com-8081"

"{""line"":""\u001b[0;32m17:59:50         zoekt-indexserver | \u001b[0m2021/09/30 17:59:50 kill failed: os: process already finished"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T10:59:50.725-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"mr29p01if-ztfq07161501.mr.if.apple.com-8081"

"{""line"":""\u001b[0;32m17:59:50         zoekt-indexserver | \u001b[0m2021/09/30 17:59:50 no output for 30m0s, killing [zoekt-git-index -submodules=false -incremental -branches HEAD -file_limit 1048576 -parallelism 4 -index /var/opt/sourcegraph/zoekt/index -require_ctags /var/opt/sourcegraph/zoekt/index/.indexserver.tmp/tmpfriend-41-114633306/github%2Fspg%2Ftlab-ansible-scripts.git]"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T10:59:50.725-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"ms11p01if-hyfq29143601.ms.if.apple.com-8081"

"{""line"":""\u001b[0;32m17:29:50         zoekt-indexserver | \u001b[0m2021/09/30 17:29:50 kill failed: os: process already finished"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T10:29:50.724-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"pv42p01if-ztbv06120301.pv.if.apple.com-8081"

"{""line"":""\u001b[0;32m17:29:50         zoekt-indexserver | \u001b[0m2021/09/30 17:29:50 no output for 30m0s, killing [zoekt-git-index -submodules=false -incremental -branches HEAD -file_limit 1048576 -parallelism 4 -index /var/opt/sourcegraph/zoekt/index -require_ctags /var/opt/sourcegraph/zoekt/index/.indexserver.tmp/tmpfriend-41-114633306/github%2Fspg%2Ftlab-ansible-scripts.git]"",""source"":""stdout"",""tag"":""893495b20f2c""}","2021-09-30T10:29:50.724-0700","code.sg.apple.com","spg-titan-code",1,"http:spg-titan-code",json,"ms11p01if-hyfq29163501.ms.if.apple.com-8081"
```


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 3615.md -->
