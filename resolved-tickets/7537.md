
# docker-container: repo syncing troubleshooting for github + github enterprise <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#7537](https://sourcegraph.zendesk.com/agent/tickets/7537)
- Application engineer: Kelvin Lee
- Customer: Coinbase <!-- Redact if this contains personally identifying information -->
- Date: Apr 7

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.27.5
- Deployment: docker-container
- External Services: GitHub, GitHub Enterprise
- Auth Providers: None?


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: None
- GitHub Issue Link: [GitHub RFH](https://github.com/sourcegraph/customer/issues/829)
- Doc Update Link: None

## Summary
### Customer Question
Though the original ask was about repo syncing/latency, lots of other questions got generated through the discussion:
- What sort of data is retained during the upgrade process?
- Is data-integrity safe during the upgrade process?
- How do we backup data?
- What's the upgrade process/procedure like?

### Application Engineer Answer
> What sort of data is retained during the upgrade process?

The [table here](https://docs.sourcegraph.com/admin/install/migrate-backup#internal-database-postgresql) details what sort of data is stored in the postgres database(s) (The postgres databases are the ones that are backed up).

> Is data-integrity safe during the upgrade process?

In general, yes. As long as things go smoothly ðŸ˜…

> How do we backup data?

In general, the process across deployments is to: exec into the container(s) containing the databases, execute some `psql` commands to generate dumpsl and then move those somewhere safe. To back up a single docker container instance, follow [these docs](https://docs.sourcegraph.com/admin/install/docker-compose/migrate#backup-single-docker-image-database), specifically just the portion for back-up. 

> What's the upgrade process/procedure like?

There are docs detailing the process [here](https://docs.sourcegraph.com/admin/updates).

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/install/migrate-backup#internal-database-postgresql
https://docs.sourcegraph.com/admin/install/docker-compose/migrate#backup-single-docker-image-database
https://docs.sourcegraph.com/admin/updates

<!--Â Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-ticketsÂ as a .md file -->
<!-- Name the file 7537.md -->
