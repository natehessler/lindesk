
# Docker Compose to Helm migration <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#8611](https://sourcegraph.zendesk.com/agent/tickets/8611)
- Application engineer: Gabe Torres
- Customer: Databricks <!-- Redact if this contains personally identifying information -->
- Date: May 31, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Deployment: Docker Compose
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C02UM8A9M2R/p1654033530672879 
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Customer Question
If we were to migrate from docker-compose to Helm kubernetes deployment, is there a way to transfer all user settings over?

### Application Engineer Answer
Generating and restoring database dumps should work to migrate your core data. Some things to note: the Sourcegraph version installed with Helm should be the same version as your Docker Compose Sourcegraph, repos will have to reclone, andindexes will be rebuilt.
Use https://docs.sourcegraph.com/@main/admin/deploy/docker-compose#backup-and-restore to backup DC databases, and https://handbook.sourcegraph.com/departments/ce-support/support/process/k8-migration/#steps-to-restore-sourcegraph-databases-into-a-new-environment to restore it in Helm.

### Relevant Docs Pages Used/Created
https://docs.sourcegraph.com/admin/deploy/migrate-backup#option-2-all-postgres-data 

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 8611.md -->
