
# DWP Batch Question <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#9761](https://sourcegraph.zendesk.com/agent/tickets/9761)
- Application engineer: Michael Bali
- Customer: GOV.UK <!-- Redact if this contains personally identifying information -->
- Date: July 14, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.37.0​
- Deployment: kubernetes
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C013FEJKFPX/p1657882175846139
- GitHub Issue Link: N/A
- Doc Update Link: N/A

## Summary
### Customer Question

Hi, Is there a max number of repos that a batch change preview will show - only seems to show 52. Whereas the same code search returns many many more

### Application Engineer Answer

Batch changes uses the internal streaming search API and get this the [hardcoded value](https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/enterprise/internal/batches/service/workspace_resolver.go?L485) for the `count:` search filter is `all`A couple of follow up questions I want to ask:
- Can I have a look at the query in your `repositoryMatchingQuery `or your batch spec.
- When you perform the same code search multiple times do you get the same number of results?
- Do you also get the same number of results in your search query when you use  `count:all` ?

the 14 results (lines) may come from the 5 repos?
a repo can have multiple instances of the searched term, this turned out to be the case here.

### Relevant Docs Pages Used/Created

<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 9761.md -->
