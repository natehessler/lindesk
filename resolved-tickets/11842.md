
# Question on LSIF-clang <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#11842](https://sourcegraph.zendesk.com/agent/tickets/11842)
- Application engineer: Michael Bali
- Customer: Unity <!-- Redact if this contains personally identifying information -->
- Date: October 24, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.36.2​
- Deployment: kubernetes
- External Services: GITHUB,GITLAB
- Auth Providers: builtin,saml


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C01FXGSJW5R/p1666416366258779
- GitHub Issue Link: N/A
- Doc Update Link: N/A

## Summary
### Customer Question
Hi, a question about https://github.com/sourcegraph/lsif-clang which Sourcegraph maintains.
When feeding the compilation database to this tool, how should multiple different build configurations be handled? For example, suppose I have some code in a file that is guarded by #if DEBUG, and other code which is guarded by #if !DEBUG. Presumably, the tool needs to analyse the file twice with the two different settings for the define, so does that mean I should generate a compilation database for each separate build configuration and then combine them, or is there a better option?

### Application Engineer Answer
The compilation databases should not be combined because combining two indexes will lead to the second upload overriding the previous upload (deleting the first upload entirely ) as they have the same repo, root, indexer, and commit.

I had conversations internally regarding this.
Generally, the DEBUG build is a superset of a non-DEBUG build, so we recommend only doing the DEBUG build.

This is something we are looking to fix and improve in the future.
### Relevant Docs Pages Used/Created
N/A
<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 11842.md -->
