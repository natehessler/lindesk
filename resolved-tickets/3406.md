# Batch Changes Permission Sync Issue



- **Zendesk Link:** [#3406](https://sourcegraph.zendesk.com/agent/tickets/3406)

- **CSE:** Michael Bali

- **Customer:** SafetyCulture <!-- Redact if this contains personally identifying information -->


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- **Version:** ​N/A

- **Deployment:** N/A

- **External Services:** N/A

- **Auth Providers:** N/A





## Links
<!-- Data for CSE manual entry -->
- **Slack Links:** https://sourcegraph.slack.com/archives/C02F0FUKH5E/p1632110147011800

- **GitHub Issue Link:** N/A

- **Doc Update Link:** N/A



## Summary
### Description of Customer Issue:  
The customer was testing batch changes, got an error ``` Your token has not been granted the required scopes to execute this query. The 'name' field requires one of the following scopes: ['read:org', 'read:discussion'], but your token has only been granted the: ['repo'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens.```


### Troubleshooting Steps: 
Did some investigation, Can you modify your token by unchecking everything in the repo scope and check/enable the root scope admin.org and write: discussion and retry? We use the global token for changeset syncing, you would need to configure the "Global service account token" with the right credentials. Using this documentation as a guide. What you are currently making use of is a personal access token described further up the page.


### Resolution:  
We use the global token for changeset syncing, you would need to configure the "Global service account token" with the right credentials. Using this documentation as a guide. What you are currently making use of is a personal access token described further up the page.
The customer confirmed that it resolved the issue.


### Relevant Error / Logs:  

<!-- Please redact keys, tokens, and personal identifying information -->

``` Your token has not been granted the required scopes to execute this query. The 'name' field requires one of the following scopes: ['read:org', 'read:discussion'], but your token has only been granted the: ['repo'] scopes. Please modify your token's scopes at: https://github.com/settings/tokens.```


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 3406.md -->
