
# External Redis with Secrets in Helm <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#10128](https://sourcegraph.zendesk.com/agent/tickets/10128)
- Application engineer: Gabe Torres
- Customer: <!-- Redact if this contains personally identifying information -->
- Date: July 29, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: ​
- Deployment:
- External Services:
- Auth Providers:


## Links
<!-- Data for application engineer manual entry -->
- Slack Links:
- GitHub Issue Link:
- Doc Update Link:

## Summary
### Description of Customer Issue
The customer saw issues setting up the internal Redis with Secrets in Helm.

### Troubleshooting Steps
Checked that redis.conf is configured correctly in the redis cache pod in /etc/redis/.   
Checked that the connection string was in the correct format redis://:password@redis-cache:6379. 
Checked that the frontend containers have the correct endpoint env? env | grep redis. 
Checked that the secret is in the same namespace  

### Resolution
Restarted the frontend deployment and the pods picked up the correct config.

### Relevant Docs Pages Used/Created

### Relevant Error / Logs
<!-- Please redact keys, tokens, and personal identifying information -->
> t=2022-08-04T09:49:15+0000 lvl=warn msg=“failed to execute redis command” cmd=DEL error=“NOAUTH Authentication required.”


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 10128.md -->
