# New Slack message in support-tableau 



- Zendesk Link: [#3767](https://sourcegraph.zendesk.com/agent/tickets/3767)

- CSE: Warren Gifford

- Customer: Tableau <!-- Redact if this contains personally identifying information -->


<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->

<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->



## Technical Environment

- Version: 3.18.0​

- Deployment: docker-compose

- External Services: OTHER,GITLAB

- Auth Providers: builtin,saml





## Links
<!-- Data for CSE manual entry -->
- Slack Links: (https://sourcegraph.slack.com/archives/C011899KB6U/p1633721426008800)[https://sourcegraph.slack.com/archives/C011899KB6U/p1633721426008800]

- GitHub Issue Link:

- Doc Update Link:



## Summary
### Description of Customer Issue:  Customer couldn't figure out how to correctly curl the graphQL API of their SG instance

### Troubleshooting Steps:  Develop curl for customers use

### Resolution:  Sample curl provided
```bash
curl \
  -H 'Authorization: token c8e1ddb4105a4ba63890cb566408c5b12976992b' \
  -d '{"query":"query($query: String!) { search(query: $query) { results { results {... on FileMatch { file { path } } } } } }","variables":{"query": "repo:^github\\.com/apache/druid$ pom\\.xml"}}' \
  https://cse-aws-test.sgdev.org/.api/graphql
```

### Relevant Error / Logs:  

<!-- Please redact keys, tokens, and personal identifying information -->

500 and 403 network responses


```bash
<in the headers I set these to values:
 Authorization: token <mytoken>  <-- I got the token from our SourceGraph UI> 
 Accept: application/json
set the method to POST
then put the stuff below in the body
/>

query ($query: String!) {
  search(query: $query) {
    results {
      results {
        ... on FileMatch {
          file {
            path
          }
        }
      }
    }
  }
}
{
    "query": "repo:^teams/near$ FilterController\\.java"
}
```


> When I invoke it with the dot, I get a 500 with no explanation why.
If I remove the dot before ".api", it returns a 403 with the  error saying my token is invalid.  I tried running the above query using curl on the command line and it gave an empty response.What am I missing?


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 3767.md -->
