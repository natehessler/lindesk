
# User not able to access repo due to Repo Permission <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#8976](https://sourcegraph.zendesk.com/agent/tickets/8976)
- Application engineer: Michael Bali
- Customer: Unity <!-- Redact if this contains personally identifying information -->
- Date: June 14, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.36.2​
- Deployment: kubernetes
- External Services: GITHUB,GITLAB
- Auth Providers: builtin,saml


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: https://sourcegraph.slack.com/archives/C01FXGSJW5R/p1655206534832179
- GitHub Issue Link: N/A
- Doc Update Link: N/A

## Summary
### Description of Customer Issue
The user gets ``repository not found / To access this repository, contact the Sourcegraph admin` when trying to view sourcegraph links people share with him

### Troubleshooting Steps
Based off a previous ticket I worked on with one of the admins at Unity, They have [Explicit permissions API](https://docs.sourcegraph.com/admin/repo/permissions#explicit-permissions-api) enabled. With this configuration, Sourcegraph exposes a GraphQL API to explicitly set repository permissions as an alternative to the code-host-specific repository permissions sync mechanisms. If the permissions API is enabled, all other repository permissions mechanisms are disabled and you must [set permissions](https://docs.sourcegraph.com/admin/repo/permissions#settings-repository-permissions-for-users) to allow users to view repositories (site admins bypass all permissions checks and can always view all repositories).I also understand you have a custom service that reconciles the explicit permissions api with the code host repo permissions. I think it would be worth looking into this internally?

### Resolution
I remember I  worked on a similar issue for one of your users in this [thread](https://sourcegraph.slack.com/archives/C01FXGSJW5R/p1652701544366349?thread_ts=1651460671.814829&cid=C01FXGSJW5R) where there was a bug with permission reconciliation for public repos which was fixed and there is some work to improve the internal service ongoing. So this is more of an internal issue with the admin and their users

### Relevant Docs Pages Used/Created

### Relevant Error / Logs
<!-- Please redact keys, tokens, and personal identifying information -->


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 8976.md -->
