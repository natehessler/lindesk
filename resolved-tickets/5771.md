
# batch changes / repository does not exist / name changes/ path changes issue <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#5771](https://sourcegraph.zendesk.com/agent/tickets/5771)
- Application engineer: Kelvin Lee
- Customer: Indeed <!-- Redact if this contains personally identifying information -->
- Date: Jan 24

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: 3.33.2​
- Deployment: kubernetes
- External Services: GITLAB
- Auth Providers: saml


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: [Slack](https://sourcegraph.slack.com/archives/C01EDKVG9J5/p1643052186014100) , old [thread](https://sourcegraph.slack.com/archives/C01JR51JR5J/p1642622811150700)  that might have been linked elsewhere already but covers a lot, especially Ben's comment [here](https://sourcegraph.slack.com/archives/C01JR51JR5J/p1642625833152100?thread_ts=1642622811.150700&cid=C01JR51JR5J) 
- GitHub Issue Link: None
- Doc Update Link: None

## Summary
### Description of Customer Issue
repository does not exist error when running a batch change

### Troubleshooting Steps
None

### Resolution
Known issue. A couple of possible workaround, but not likely to work, quoted below:


The workarounds, if you wish to try:

(1) This one's easy. You can attempt to add a `-clear-cache` flag to your `src` commands. This was useful in getting the renamed/re-pathed repos to sync.

(2) This one is a bit involved, and quoted/described below:

> Here goes. The general idea is:
> 
> I've fixed this in the past by adding the previous repo name to the code host exclusion list, waiting for it to be deleted, and then removing it from the exclusion list. (removing it again from the exclusion list isnt necessary, but it keeps the configuration cleaner)
> 
> The steps to conduct the above look something like this:
> Please navigate to Site Admin -> Manage Code Hosts -> (Select your code host)In the configuration JSON file, please add the following repo exclusion:
```
"exclude": [
    {
      "name": "<name of troublesome repo>"
    }
  ]
```
> After a few minutes, Sourcegraph should remove the repo from your instance, and prevent it from being rediscovered which should resolve the issue.You can confirm this deletion is done by navigating to:
> Site Admin -> Repository Status and searching for the repository by name.If the repository does not appear, then it has been completely removed from your instance, and your batch change should resolve without error.
> 
> This will require that you have site-admin access.



... But ultimately, both of the ^above workaround not likely to work. There is a code-change that addresses the issue, though, which has been merged: https://github.com/sourcegraph/zoekt/pull/244

### Relevant Docs Pages Used/Created
None

### Relevant Error / Logs
`repository does not exist` 
<!-- Please redact keys, tokens, and personal identifying information -->


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 5771.md -->
