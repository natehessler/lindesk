
# Diff search not working properly

- Zendesk Link: [#5775](https://sourcegraph.zendesk.com/agent/tickets/5775)
- Application engineer: Donavon Ellison
- Customer: AppFolio 
- Date: Jan 24

## Technical Environment
- Version: â€‹3.35.1
- Deployment: Kubernetes 
- External Services: AWS
- Auth Providers: N/A


## Links
- Slack Links: https://sourcegraph.slack.com/archives/C02JCB0TM26/p1643054781020500
- GitHub Issue Link: https://github.com/sourcegraph/customer/issues/678
- Doc Update Link: N/A

## Summary
### Customer Question
Diff search was not working for a particular string? Why?
### Application Engineer Answer
Diff search is much more resource-intensive than regular search. Most normal searches are indexed, which means we can much more efficiently look up what documents the strings occur in. For diff searches, we have to iterate over every commit in the repos being searched, generate the difference between that commit and its parent commit (which is quite expensive), then search those differences. With large repos, this can make diff search time out before it finishes.
### Relevant Docs Pages Used/Created
N/A
