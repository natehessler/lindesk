
# Deploying Sourcegraph on CentOS <!-- Ticket Title  Hint: include keywords to make it searchable -->

- Zendesk Link: [#6321](https://sourcegraph.zendesk.com/agent/tickets/6321)
- Application engineer: Michael Bali
- Customer: Hidglobal <!-- Redact if this contains personally identifying information -->
- Date: Feb 16, 2022

<!-- Data populated from integration, speak to Ben Gordon or Michael Bali if not working -->
<!-- During Internal team trial, fill missing data manually (we are waiting for all data to sync) -->

## Technical Environment
- Version: ​N/A
- Deployment: N/A
- External Services: N/A
- Auth Providers: N/A


## Links
<!-- Data for application engineer manual entry -->
- Slack Links: N/A
- GitHub Issue Link: N/A
- Doc Update Link: N/A

## Summary
### Description of Customer Issue
The Customer is trying to install sourcegraph on CentOS and it keeps terminating.

### Troubleshooting Steps
- Are you running this installation on an M1 mac or on a windows machine?
- How are you deploying sourcegraph? Are you installing a single-container Sourcegraph with Docker, docker-compose, or Kubernetes?
- share logs from the docker container?
- I would also like to know if you followed the installation process stated in this [guide](https://learn.sourcegraph.com/how-to-install-sourcegraph-on-linux-with-docker#centos)?
- I later understood that the customer installed an old version of  sourcegraph and was trying to install a new version but the frontend was still seeing  the old installation.

### Resolution
- Told the customer to remove the container and volume via the following:
`docker container prune`
- And then remove the volumes with :
`docker volume prune`
- Then perform a fresh installation.

- You can also change the .sourcegraph directory for this fresh installation. Something like the below;
```docker run 
--publish 7080:7080 --publish 127.0.0.1:3370:3370 --rm 
--volume ~/.sourcegraph-1/config:/etc/sourcegraph 
--volume ~/.sourcegraph-1/data:/var/opt/sourcegraph 
sourcegraph/server:3.36.3
```
### Relevant Docs Pages Used/Created
https://learn.sourcegraph.com/how-to-install-sourcegraph-on-linux-with-docker#centos

### Relevant Error / Logs
<!-- Please redact keys, tokens, and personal identifying information -->


<!-- Once complete, upload a copy to https://github.com/sourcegraph/support-tools-internal/tree/main/resolved-tickets as a .md file -->
<!-- Name the file 6321.md -->
