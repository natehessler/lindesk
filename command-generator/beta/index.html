<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/main.css">
    <script src="scripts/main.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <title>Command Line Generator</title>
</head>
<body class="p-5">
    <h1 class="m-3 text-center">Command Line Generator</h1>
    <div class="container">
        <div class="row">
            <!-- Deployment Types -->
            <div class="col card m-5 p-5">
                <select id="d-types" class="form-select" aria-label="Default select example">
                    <option selected>Deployment Type</option>
                    <option id="sd" value="t1">Single Docker</option>
                    <option id="dc" value="t2">Docker Compose</option>
                    <option id="k8s" value="t3">Kubernetes</option>
                </select>
                <input id="namespace" class="mt-3" value="$NAMESPACE"></input>
                <div id="namespace-check" class="form-check">
                    <input id="namespace-box" class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                        Namespace?
                    </label>
                </div>
            </div>
            <!-- Functions -->
            <div id="functions" class="col card m-5 p-5">
                <!-- Docker -->
                <select id="t1" class="form-select d-none" aria-label="Default select example">
                    <option selected>Function</option>
                    <option value="docker logs" data-toggle="tooltip" data-placement="right" title="Get the logs of a container">Check Logs</option>
                    <option value="docker ps -a" data-toggle="tooltip" data-placement="right" title="List services">List Services</option>
                    <option value="docker run" data-toggle="tooltip" data-placement="right" title="The docker run command first creates a writeable container layer over the specified image, and then starts it using the specified command.">Start Sourcegraph</option>
                    <option value="docker restart " pod=true data-toggle="tooltip" data-placement="right" title="Restart one or more containers">Restart Sourcegraph</option>
                    <option value="docker exec -it " value2=" bash" pod=true data-toggle="tooltip" data-placement="right" title="Get a shell to the running container.">Run shell</option>
                </select>
                <!-- Docker Compose -->
                <select id="t2" class="form-select d-none" aria-label="Default select example">
                    <option selected>Function</option>
                    <option value="docker-compose logs" data-toggle="tooltip" data-placement="right" title="Displays log output from services.">Check Logs</option>
                    <option value="docker-compose ps" data-toggle="tooltip" data-placement="right" title="List containers">List Containers</option>
                    <option value="docker-compose up -d" data-toggle="tooltip" data-placement="right" title="Builds, (re)creates, starts, and attaches to containers for a service.">Start/Restart Sourcegraph</option>
                    <option value="docker-compose down" data-toggle="tooltip" data-placement="right" title="Stops containers and removes containers, networks, volumes, and images created by up.">Shutdown Sourcegraph</option>
                    <option value="docker-compose exec -it " value2=" bash" pod=true data-toggle="tooltip" data-placement="right" title="Get a shell to the running container.">Run shell</option>
                </select>
                <!-- Kubernetes -->
                <select id="t3" class="form-select d-none" aria-label="Default select example">
                    <option selected>Function</option>
                    <option value="kubectl logs -f " pod=true data-toggle="tooltip" data-placement="right" title="Tail the logs for the specified pod.">Check Logs</option>
                    <option value="kubectl get pods -o=wide " data-toggle="tooltip" data-placement="right" title="List all pods in your cluster and the corresponding health status of each pod">List Pods</option>
                    <option value="kubectl describe pod " pod=true data-toggle="tooltip" data-placement="right" title="Display detailed information about the status of a single pod">Describe Pod</option>
                    <option value="kubectl rollout restart deployment sourcegraph-frontend" data-toggle="tooltip" data-placement="right" title="Restarting Sourcegraph Instance by restarting the frontend pod.">Restart Sourcegraph</option>
                    <option value="kubectl get events " data-toggle="tooltip" data-placement="right" title="List all events in the clusterâ€™s history.">Get Events</option>
                    <option value="kubectl delete pod " pod=true data-toggle="tooltip" data-placement="right" title="Delete failing pod so it gets recreated, possibly on a different node">Delete Pod</option>
                    <option value="kubectl get pvc" data-toggle="tooltip" data-placement="right" title="List all Persistent Volume Claims (PVCs) and their statuses.">Persistent Volume Claims (PVCs) List</option>
                    <option value="kubectl get pv" data-toggle="tooltip" data-placement="right" title="List all Persistent Volumes (PVs) that have been provisioned. In a healthy cluster, there should be a one-to-one mapping between PVs and PVCs">Persistent Volumes (PVs) List</option>
                    <option value="kubectl port-forward svc/sourcegraph-frontend 3080:30080" data-toggle="tooltip" data-placement="right" title="Access Sourcegraph in your cluster locally.">Post Forward</option>
                    <option value="kubectl exec -it  " value2=" sh" pod=true data-toggle="tooltip" data-placement="right" title="Get a shell to the running container.">Run shell</option>
                    <option value="kubectl exec " value2=" -- psql -U sg -c 'SELECT * FROM schema_migrations'" pod=true data-toggle="tooltip" data-placement="right" title="Get inside the PGSQL Pod to check for database.">Check Dirty Database</option>
                    <option value="kubectl exec " value2=" -- psql -U sg -c" pod=true data-toggle="tooltip" data-placement="right" title="Get inside the PGSQL Pod to run psql query.">Run PSQL Queries in Pod</option>
                </select>
                <input id="pod-name" class="mt-3" value="$POD_NAME"></input>
            </div>
            </div>
            <!-- OUTPUT CONSOLE -->
            <div class="row">
            <div class="col card m-5 p-5">
                <div id="output-console">
                    <!-- output area -->
                    <textarea id="output" class="p-2 bg-primary text-white w-100 mt-3">Choose a deployment type to begin.</textarea>
                    <!-- copy button -->
                    <div class="text-right">
                        <button id="copy-btn" class="btn btn-primary mt-3 d-none">Copy</button>
                    </div>
                    <!-- description -->
                    <text id="description" class="text-primary"></text>
                    <div class="alert alert-success alert-dismissible fade mt-2" role="alert">
                        <strong>Copied Successfully!</strong>
                        <button id="close" type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
            </div>
            </div>
        </div>
</body>
</html>